jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d)},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b},easeInOutQuad:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t+b:-c/2*(--t*(t-2)-1)+b},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b},easeInOutCubic:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t+b:c/2*((t-=2)*t*t+2)+b},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b},easeInOutQuart:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t*t+b:-c/2*((t-=2)*t*t*t-2)+b},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b},easeInOutQuint:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t*t*t+b:c/2*((t-=2)*t*t*t*t+2)+b},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b},easeInExpo:function(x,t,b,c,d){return t==0?b:c*Math.pow(2,10*(t/d-1))+b},easeOutExpo:function(x,t,b,c,d){return t==d?b+c:c*(-Math.pow(2,-10*t/d)+1)+b},easeInOutExpo:function(x,t,b,c,d){return t==0?b:t==d?b+c:(t/=d/2)<1?c/2*Math.pow(2,10*(t-1))+b:c/2*(-Math.pow(2,-10*--t)+2)+b},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b},easeInOutCirc:function(x,t,b,c,d){return(t/=d/2)<1?-c/2*(Math.sqrt(1-t*t)-1)+b:c/2*(Math.sqrt(1-(t-=2)*t)+1)+b},easeInElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(p||(p=d*.3),a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*2*Math.PI/p))+b},easeOutElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(p||(p=d*.3),a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*2*Math.PI/p)+c+b},easeInOutElastic:function(x,t,b,c,d){var s=1.70158,p=0,a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(p||(p=d*.3*1.5),a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return t<1?-.5*a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*2*Math.PI/p)+b:a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*2*Math.PI/p)*.5+c+b},easeInBack:function(x,t,b,c,d,s){return s==undefined&&(s=1.70158),c*(t/=d)*t*((s+1)*t-s)+b},easeOutBack:function(x,t,b,c,d,s){return s==undefined&&(s=1.70158),c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},easeInOutBack:function(x,t,b,c,d,s){return(s==undefined&&(s=1.70158),(t/=d/2)<1)?c/2*t*t*(((s*=1.525)+1)*t-s)+b:c/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+b},easeInBounce:function(x,t,b,c,d){return c-jQuery.easing.easeOutBounce(x,d-t,0,c,d)+b},easeOutBounce:function(x,t,b,c,d){return(t/=d)<1/2.75?c*7.5625*t*t+b:t<2/2.75?c*(7.5625*(t-=1.5/2.75)*t+.75)+b:t<2.5/2.75?c*(7.5625*(t-=2.25/2.75)*t+.9375)+b:c*(7.5625*(t-=2.625/2.75)*t+.984375)+b},easeInOutBounce:function(x,t,b,c,d){return t<d/2?jQuery.easing.easeInBounce(x,t*2,0,c,d)*.5+b:jQuery.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b}});!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q;m*=q;l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r;m*=r;l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left;p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120==0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this));a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height");a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});!function(e){"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var o="function"==typeof define&&define.amd,a="undefined"!=typeof module&&module.exports,n="https:"==document.location.protocol?"https:":"http:";o||(a?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+n+"//"+"cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.min.js"+"%3E%3C/script%3E")));t()}(function(){var t,o="mCustomScrollbar",a="mCS",n=".mCustomScrollbar",i={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:!0,autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,l={},s=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(t){var t=e.extend(!0,{},i,t),o=f.call(this);if(t.live){var s=t.liveSelector||this.selector||n,c=e(s);if("off"===t.live)return void m(s);l[s]=setTimeout(function(){c.mCustomScrollbar(t);"once"===t.live&&c.length&&m(s)},500)}else m(s);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":p(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),h(t),e(o).each(function(){var o=e(this);if(!o.data(a)){o.data(a,{idx:++r,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:o.css("direction"),cbOffsets:null,trigger:null});var n=o.data(a),i=n.opt,l=o.data("mcs-axis"),s=o.data("mcs-scrollbar-position"),c=o.data("mcs-theme");l&&(i.axis=l);s&&(i.scrollbarPosition=s);c&&(i.theme=c,h(i));v.call(this);e("#mCSB_"+n.idx+"_container img:not(."+d[2]+")").addClass(d[2]);u.update.call(null,o)}})},update:function(t,o){var n=t||f.call(this);return e(n).each(function(){var t=e(this);if(t.data(a)){var n=t.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container"),l=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(!r.length)return;n.tweenRunning&&V(t);t.hasClass(d[3])&&t.removeClass(d[3]);t.hasClass(d[4])&&t.removeClass(d[4]);S.call(this);_.call(this);"y"===i.axis||i.advanced.autoExpandHorizontalScroll||r.css("width",x(r.children()));n.overflowed=B.call(this);O.call(this);i.autoDraggerLength&&b.call(this);C.call(this);k.call(this);var s=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==i.axis&&(n.overflowed[0]?l[0].height()>l[0].parent().height()?T.call(this):(Q(t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"}),n.contentReset.y=null):(T.call(this),"y"===i.axis?M.call(this):"yx"===i.axis&&n.overflowed[1]&&Q(t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"})));"y"!==i.axis&&(n.overflowed[1]?l[1].width()>l[1].parent().width()?T.call(this):(Q(t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"}),n.contentReset.x=null):(T.call(this),"x"===i.axis?M.call(this):"yx"===i.axis&&n.overflowed[0]&&Q(t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"})));o&&n&&(2===o&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===o&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this));X.call(this)}})},scrollTo:function(t,o){if("undefined"!=typeof t&&null!=t){var n=f.call(this);return e(n).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},l,o),c=Y.call(this,t),d=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;c[0]=j.call(this,c[0],"y");c[1]=j.call(this,c[1],"x");s.moveDragger&&(c[0]*=i.scrollRatio.y,c[1]*=i.scrollRatio.x);s.dur=d;setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==r.axis&&i.overflowed[0]&&(s.dir="y",s.overwrite="all",Q(n,c[0].toString(),s));null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==r.axis&&i.overflowed[1]&&(s.dir="x",s.overwrite="none",Q(n,c[1].toString(),s))},s.timeout)}})}},stop:function(){var t=f.call(this);return e(t).each(function(){var t=e(this);t.data(a)&&V(t)})},disable:function(t){var o=f.call(this);return e(o).each(function(){var o=e(this);o.data(a)&&(o.data(a),X.call(this,"remove"),M.call(this),t&&T.call(this),O.call(this,!0),o.addClass(d[3]))})},destroy:function(){var t=f.call(this);return e(t).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx),s=e("#mCSB_"+i.idx+"_container"),c=e(".mCSB_"+i.idx+"_scrollbar");r.live&&m(r.liveSelector||e(t).selector);X.call(this,"remove");M.call(this);T.call(this);n.removeData(a);Z(this,"mcs");c.remove();s.find("img."+d[2]).removeClass(d[2]);l.replaceWith(s.contents());n.removeClass(o+" _"+a+"_"+i.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},f=function(){return"object"!=typeof e(this)||e(this).length<1?n:this},h=function(t){t.autoDraggerLength=e.inArray(t.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"])>-1?!1:t.autoDraggerLength;t.autoExpandScrollbar=e.inArray(t.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"])>-1?!1:t.autoExpandScrollbar;t.scrollButtons.enable=e.inArray(t.theme,["minimal","minimal-dark"])>-1?!1:t.scrollButtons.enable;t.autoHideScrollbar=e.inArray(t.theme,["minimal","minimal-dark"])>-1?!0:t.autoHideScrollbar;t.scrollbarPosition=e.inArray(t.theme,["minimal","minimal-dark"])>-1?"outside":t.scrollbarPosition},m=function(e){l[e]&&(clearTimeout(l[e]),Z(l,e))},p=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function(){var t=e(this),n=t.data(a),i=n.opt,r=i.autoExpandScrollbar?" "+d[1]+"_expand":"",l=["<div id='mCSB_"+n.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /><\/div><div class='mCSB_draggerRail' /><\/div><\/div>","<div id='mCSB_"+n.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /><\/div><div class='mCSB_draggerRail' /><\/div><\/div>"],s="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===i.axis?l[0]+l[1]:"x"===i.axis?l[1]:l[0],u="yx"===i.axis?"<div id='mCSB_"+n.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",f=i.autoHideScrollbar?" "+d[6]:"",h="x"!==i.axis&&"rtl"===n.langDir?" "+d[7]:"";i.setWidth&&t.css("width",i.setWidth);i.setHeight&&t.css("height",i.setHeight);i.setLeft="y"!==i.axis&&"rtl"===n.langDir?"989999px":i.setLeft;t.addClass(o+" _"+a+"_"+n.idx+f+h).wrapInner("<div id='mCSB_"+n.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+s+"'><div id='mCSB_"+n.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir="+n.langDir+" /><\/div>");var m=e("#mCSB_"+n.idx),p=e("#mCSB_"+n.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||p.css("width",x(p.children()));"outside"===i.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),m.addClass("mCSB_outside").after(c)):(m.addClass("mCSB_inside").append(c),p.wrap(u));w.call(this);var g=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height());g[1].css("min-width",g[1].width())},x=function(t){return Math.max.apply(Math,t.map(function(){return e(this).outerWidth(!0)}).get())},_=function(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx+"_container");n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis&&i.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),position:"relative"}).unwrap()},w=function(){var t=e(this),o=t.data(a),n=o.opt,i=e(".mCSB_"+o.idx+"_scrollbar:first"),r=te(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",l=["<a href='#' class='"+d[13]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[14]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[15]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[16]+"' oncontextmenu='return false;' "+r+" />"],s=["x"===n.axis?l[2]:l[0],"x"===n.axis?l[3]:l[1],l[2],l[3]];n.scrollButtons.enable&&i.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])},S=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=t.css("max-height")||"none",r=-1!==i.indexOf("%"),l=t.css("box-sizing");if("none"!==i){var s=r?t.parent().height()*parseInt(i)/100:parseInt(i);"border-box"===l&&(s-=t.innerHeight()-t.height()+(t.outerHeight()-t.innerHeight()));n.css("max-height",Math.round(s))}},b=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[n.height()/i.outerHeight(!1),n.width()/i.outerWidth(!1)],c=[parseInt(r[0].css("min-height")),Math.round(l[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(l[1]*r[1].parent().width())],d=s&&c[1]<c[0]?c[0]:c[1],u=s&&c[3]<c[2]?c[2]:c[3];r[0].css({height:d,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"});r[1].css({width:u,"max-width":r[1].parent().width()-10})},C=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[i.outerHeight(!1)-n.height(),i.outerWidth(!1)-n.width()],s=[l[0]/(r[0].parent().height()-r[0].height()),l[1]/(r[1].parent().width()-r[1].width())];o.scrollRatio={y:s[0],x:s[1]}},y=function(e,t,o){var a=o?d[0]+"_expanded":"",n=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(d[0]+" "+a),n.toggleClass(d[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(d[0]),n.removeClass(d[1])):(e.addClass(d[0]),n.addClass(d[1])))},B=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=null==o.overflowed?i.height():i.outerHeight(!1),l=null==o.overflowed?i.width():i.outerWidth(!1);return[r>n.height(),l>n.width()]},T=function(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx),r=e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(V(t),("x"!==n.axis&&!o.overflowed[0]||"y"===n.axis&&o.overflowed[0])&&(l[0].add(r).css("top",0),Q(t,"_resetY")),"y"!==n.axis&&!o.overflowed[1]||"x"===n.axis&&o.overflowed[1]){var s=dx=0;"rtl"===o.langDir&&(s=i.width()-r.outerWidth(!1),dx=Math.abs(s/o.scrollRatio.x));r.css("left",s);l[1].css("left",dx);Q(t,"_resetX")}},k=function(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),W.call(o[0])):t()},100)}var o=e(this),n=o.data(a),i=n.opt;if(!n.bindEvents){if(R.call(this),i.contentTouchScroll&&D.call(this),E.call(this),i.mouseWheel.enable){var r;t()}P.call(this);H.call(this);i.advanced.autoScrollOnFocus&&z.call(this);i.scrollButtons.enable&&U.call(this);i.keyboard.enable&&F.call(this);n.bindEvents=!0}},M=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=".mCSB_"+o.idx+"_scrollbar",l=e("#mCSB_"+o.idx+",#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,"+r+" ."+d[12]+",#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal,"+r+">a"),s=e("#mCSB_"+o.idx+"_container");n.advanced.releaseDraggableSelectors&&l.add(e(n.advanced.releaseDraggableSelectors));o.bindEvents&&(e(document).unbind("."+i),l.each(function(){e(this).unbind("."+i)}),clearTimeout(t[0]._focusTimeout),Z(t[0],"_focusTimeout"),clearTimeout(o.sequential.step),Z(o.sequential,"step"),clearTimeout(s[0].onCompleteTimeout),Z(s[0],"onCompleteTimeout"),o.bindEvents=!1)},O=function(t){var o=e(this),n=o.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container_wrapper"),l=r.length?r:e("#mCSB_"+n.idx+"_container"),s=[e("#mCSB_"+n.idx+"_scrollbar_vertical"),e("#mCSB_"+n.idx+"_scrollbar_horizontal")],c=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==i.axis&&(n.overflowed[0]&&!t?(s[0].add(c[0]).add(s[0].children("a")).css("display","block"),l.removeClass(d[8]+" "+d[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[0].css("display","none"),l.removeClass(d[10])):(s[0].css("display","none"),l.addClass(d[10])),l.addClass(d[8])));"y"!==i.axis&&(n.overflowed[1]&&!t?(s[1].add(c[1]).add(s[1].children("a")).css("display","block"),l.removeClass(d[9]+" "+d[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[1].css("display","none"),l.removeClass(d[11])):(s[1].css("display","none"),l.addClass(d[11])),l.addClass(d[9])));n.overflowed[0]||n.overflowed[1]?o.removeClass(d[5]):o.addClass(d[5])},I=function(e){var t=e.type;switch(t){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return e.target.ownerDocument!==document?[e.originalEvent.screenY,e.originalEvent.screenX,!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var o=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],a=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[o.screenY,o.screenX,a>1]:[o.pageY,o.pageX,a>1];default:return[e.pageY,e.pageX,!1]}},R=function(){function t(e){var t=m.find("iframe");if(t.length){var o=e?"auto":"none";t.css("pointer-events",o)}}function o(e,t,o,a){if(m[0].idleTimer=u.scrollInertia<233?250:0,n.attr("id")===h[1])var i="x",r=(n[0].offsetLeft-t+a)*d.scrollRatio.x;else var i="y",r=(n[0].offsetTop-e+o)*d.scrollRatio.y;Q(l,r.toString(),{dir:i,drag:!0})}var n,i,r,l=e(this),d=l.data(a),u=d.opt,f=a+"_"+d.idx,h=["mCSB_"+d.idx+"_dragger_vertical","mCSB_"+d.idx+"_dragger_horizontal"],m=e("#mCSB_"+d.idx+"_container"),p=e("#"+h[0]+",#"+h[1]),g=u.advanced.releaseDraggableSelectors?p.add(e(u.advanced.releaseDraggableSelectors)):p;p.bind("mousedown."+f+" touchstart."+f+" pointerdown."+f+" MSPointerDown."+f,function(o){if(o.stopImmediatePropagation(),o.preventDefault(),$(o)){c=!0;s&&(document.onselectstart=function(){return!1});t(!1);V(l);n=e(this);var a=n.offset(),d=I(o)[0]-a.top,f=I(o)[1]-a.left,h=n.height()+a.top,m=n.width()+a.left;h>d&&d>0&&m>f&&f>0&&(i=d,r=f);y(n,"active",u.autoExpandScrollbar)}}).bind("touchmove."+f,function(e){e.stopImmediatePropagation();e.preventDefault();var t=n.offset(),a=I(e)[0]-t.top,l=I(e)[1]-t.left;o(i,r,a,l)});e(document).bind("mousemove."+f+" pointermove."+f+" MSPointerMove."+f,function(e){if(n){var t=n.offset(),a=I(e)[0]-t.top,l=I(e)[1]-t.left;if(i===a)return;o(i,r,a,l)}}).add(g).bind("mouseup."+f+" touchend."+f+" pointerup."+f+" MSPointerUp."+f,function(){n&&(y(n,"active",u.autoExpandScrollbar),n=null);c=!1;s&&(document.onselectstart=null);t(!0)})},D=function(){function o(e){if(!ee(e)||c||I(e)[2])return void(t=0);t=1;S=0;b=0;C.removeClass("mCS_touch_action");var o=M.offset();d=I(e)[0]-o.top;u=I(e)[1]-o.left;A=[I(e)[0],I(e)[1]]}function n(e){if(ee(e)&&!c&&!I(e)[2]&&(e.stopImmediatePropagation(),!b||S)){p=J();var t=k.offset(),o=I(e)[0]-t.top,a=I(e)[1]-t.left,n="mcsLinearOut";if(R.push(o),D.push(a),A[2]=Math.abs(I(e)[0]-A[0]),A[3]=Math.abs(I(e)[1]-A[1]),y.overflowed[0])var i=O[0].parent().height()-O[0].height(),r=d-o>0&&o-d>-(i*y.scrollRatio.y)&&(2*A[3]<A[2]||"yx"===B.axis);if(y.overflowed[1])var l=O[1].parent().width()-O[1].width(),f=u-a>0&&a-u>-(l*y.scrollRatio.x)&&(2*A[2]<A[3]||"yx"===B.axis);r||f?(e.preventDefault(),S=1):(b=1,C.addClass("mCS_touch_action"));_="yx"===B.axis?[d-o,u-a]:"x"===B.axis?[null,u-a]:[d-o,null];M[0].idleTimer=250;y.overflowed[0]&&s(_[0],E,n,"y","all",!0);y.overflowed[1]&&s(_[1],E,n,"x",W,!0)}}function i(e){if(!ee(e)||c||I(e)[2])return void(t=0);t=1;e.stopImmediatePropagation();V(C);m=J();var o=k.offset();f=I(e)[0]-o.top;h=I(e)[1]-o.left;R=[];D=[]}function r(e){if(ee(e)&&!c&&!I(e)[2]){e.stopImmediatePropagation();S=0;b=0;g=J();var t=k.offset(),o=I(e)[0]-t.top,a=I(e)[1]-t.left;if(!(g-p>30)){x=1e3/(g-m);var n="mcsEaseOut",i=2.5>x,r=i?[R[R.length-2],D[D.length-2]]:[0,0];v=i?[o-r[0],a-r[1]]:[o-f,a-h];var d=[Math.abs(v[0]),Math.abs(v[1])];x=i?[Math.abs(v[0]/4),Math.abs(v[1]/4)]:[x,x];var u=[Math.abs(M[0].offsetTop)-v[0]*l(d[0]/x[0],x[0]),Math.abs(M[0].offsetLeft)-v[1]*l(d[1]/x[1],x[1])];_="yx"===B.axis?[u[0],u[1]]:"x"===B.axis?[null,u[1]]:[u[0],null];w=[4*d[0]+B.scrollInertia,4*d[1]+B.scrollInertia];var C=parseInt(B.contentTouchScroll)||0;_[0]=d[0]>C?_[0]:0;_[1]=d[1]>C?_[1]:0;y.overflowed[0]&&s(_[0],w[0],n,"y",W,!1);y.overflowed[1]&&s(_[1],w[1],n,"x",W,!1)}}}function l(e,t){var o=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?o[0]:o[3]:e>60?t>3?o[3]:o[2]:e>30?t>8?o[1]:t>6?o[0]:t>4?t:o[2]:t>8?t:o[3]}function s(e,t,o,a,n,i){e&&Q(C,e.toString(),{dur:t,scrollEasing:o,dir:a,overwrite:n,drag:i})}var d,u,f,h,m,p,g,v,x,_,w,S,b,C=e(this),y=C.data(a),B=y.opt,T=a+"_"+y.idx,k=e("#mCSB_"+y.idx),M=e("#mCSB_"+y.idx+"_container"),O=[e("#mCSB_"+y.idx+"_dragger_vertical"),e("#mCSB_"+y.idx+"_dragger_horizontal")],R=[],D=[],E=0,W="yx"===B.axis?"none":"all",A=[],P=M.find("iframe"),z=["touchstart."+T+" pointerdown."+T+" MSPointerDown."+T,"touchmove."+T+" pointermove."+T+" MSPointerMove."+T,"touchend."+T+" pointerup."+T+" MSPointerUp."+T];M.bind(z[0],function(e){o(e)}).bind(z[1],function(e){n(e)});k.bind(z[0],function(e){i(e)}).bind(z[2],function(e){r(e)});P.length&&P.each(function(){e(this).load(function(){L(this)&&e(this.contentDocument||this.contentWindow.document).bind(z[0],function(e){o(e);i(e)}).bind(z[1],function(e){n(e)}).bind(z[2],function(e){r(e)})})})},E=function(){function o(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function n(e,t,o){d.type=o&&i?"stepped":"stepless";d.scrollAmount=10;q(r,e,t,"mcsLinearOut",o?60:null)}var i,r=e(this),l=r.data(a),s=l.opt,d=l.sequential,u=a+"_"+l.idx,f=e("#mCSB_"+l.idx+"_container"),h=f.parent();f.bind("mousedown."+u,function(){t||i||(i=1,c=!0)}).add(document).bind("mousemove."+u,function(e){if(!t&&i&&o()){var a=f.offset(),r=I(e)[0]-a.top+f[0].offsetTop,c=I(e)[1]-a.left+f[0].offsetLeft;r>0&&r<h.height()&&c>0&&c<h.width()?d.step&&n("off",null,"stepped"):("x"!==s.axis&&l.overflowed[0]&&(0>r?n("on",38):r>h.height()&&n("on",40)),"y"!==s.axis&&l.overflowed[1]&&(0>c?n("on",37):c>h.width()&&n("on",39)))}}).bind("mouseup."+u,function(){t||(i&&(i=0,n("off",null)),c=!1)})},W=function(){function t(t,a){if(V(o),!A(o,t.target)){var r="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):s&&t.deltaFactor<100?100:t.deltaFactor||100;if("x"===i.axis||"x"===i.mouseWheel.axis)var d="x",u=[Math.round(r*n.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],f="auto"!==i.mouseWheel.scrollAmount?u[1]:u[0]>=l.width()?.9*l.width():u[0],h=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetLeft),m=c[1][0].offsetLeft,p=c[1].parent().width()-c[1].width(),g=t.deltaX||t.deltaY||a;else var d="y",u=[Math.round(r*n.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],f="auto"!==i.mouseWheel.scrollAmount?u[1]:u[0]>=l.height()?.9*l.height():u[0],h=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetTop),m=c[0][0].offsetTop,p=c[0].parent().height()-c[0].height(),g=t.deltaY||a;("y"!==d||n.overflowed[0])&&("x"!==d||n.overflowed[1])&&((i.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(g=-g),i.mouseWheel.normalizeDelta&&(g=0>g?-1:1),(g>0&&0!==m||0>g&&m!==p||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),Q(o,(h-g*f).toString(),{dir:d}))}}if(e(this).data(a)){var o=e(this),n=o.data(a),i=n.opt,r=a+"_"+n.idx,l=e("#mCSB_"+n.idx),c=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],d=e("#mCSB_"+n.idx+"_container").find("iframe");d.length&&d.each(function(){e(this).load(function(){L(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+r,function(e,o){t(e,o)})})});l.bind("mousewheel."+r,function(e,o){t(e,o)})}},L=function(e){var t=null;try{var o=e.contentDocument||e.contentWindow.document;t=o.body.innerHTML}catch(a){}return null!==t},A=function(t,o){var n=o.nodeName.toLowerCase(),i=t.data(a).opt.mouseWheel.disableOver;return e.inArray(n,i)>-1&&!(e.inArray(n,["select","textarea"])>-1&&!e(o).is(":focus"))},P=function(){var t=e(this),o=t.data(a),n=a+"_"+o.idx,i=e("#mCSB_"+o.idx+"_container"),r=i.parent(),l=e(".mCSB_"+o.idx+"_scrollbar ."+d[12]);l.bind("touchstart."+n+" pointerdown."+n+" MSPointerDown."+n,function(){c=!0}).bind("touchend."+n+" pointerup."+n+" MSPointerUp."+n,function(){c=!1}).bind("click."+n,function(a){if(e(a.target).hasClass(d[12])||e(a.target).hasClass("mCSB_draggerRail")){V(t);var n=e(this),l=n.find(".mCSB_dragger");if(n.parent(".mCSB_scrollTools_horizontal").length>0){if(!o.overflowed[1])return;var s="x",c=a.pageX>l.offset().left?-1:1,u=Math.abs(i[0].offsetLeft)-.9*c*r.width()}else{if(!o.overflowed[0])return;var s="y",c=a.pageY>l.offset().top?-1:1,u=Math.abs(i[0].offsetTop)-.9*c*r.height()}Q(t,u.toString(),{dir:s,scrollEasing:"mcsEaseInOut"})}})},z=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=e("#mCSB_"+o.idx+"_container"),l=r.parent();r.bind("focusin."+i,function(){var a=e(document.activeElement),i=r.find(".mCustomScrollBox").length,s=0;a.is(n.advanced.autoScrollOnFocus)&&(V(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=i?(s+17)*i:0,t[0]._focusTimeout=setTimeout(function(){var e=[oe(a)[0],oe(a)[1]],o=[r[0].offsetTop,r[0].offsetLeft],i=[o[0]+e[0]>=0&&o[0]+e[0]<l.height()-a.outerHeight(!1),o[1]+e[1]>=0&&o[0]+e[1]<l.width()-a.outerWidth(!1)],c="yx"!==n.axis||i[0]||i[1]?"all":"none";"x"===n.axis||i[0]||Q(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:s});"y"===n.axis||i[1]||Q(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:s})},t[0]._focusTimer))})},H=function(){var t=e(this),o=t.data(a),n=a+"_"+o.idx,i=e("#mCSB_"+o.idx+"_container").parent();i.bind("scroll."+n,function(){(0!==i.scrollTop()||0!==i.scrollLeft())&&e(".mCSB_"+o.idx+"_scrollbar").css("visibility","hidden")})},U=function(){var t=e(this),o=t.data(a),n=o.opt,i=o.sequential,r=a+"_"+o.idx,l=".mCSB_"+o.idx+"_scrollbar",s=e(l+">a");s.bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(a){function r(e,o){i.scrollAmount=n.snapAmount||n.scrollButtons.scrollAmount;q(t,e,o)}if(a.preventDefault(),$(a)){var l=e(this).attr("class");switch(i.type=n.scrollButtons.scrollType,a.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===i.type)return;c=!0;o.tweenRunning=!1;r("on",l);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===i.type)return;c=!1;i.dir&&r("off",l);break;case"click":if("stepped"!==i.type||o.tweenRunning)return;r("on",l)}}})},F=function(){function t(t){function a(e,t){r.type=i.keyboard.scrollType;r.scrollAmount=i.snapAmount||i.keyboard.scrollAmount;"stepped"===r.type&&n.tweenRunning||q(o,e,t)}switch(t.type){case"blur":n.tweenRunning&&r.dir&&a("off",null);break;case"keydown":case"keyup":var l=t.keyCode?t.keyCode:t.which,s="on";if("x"!==i.axis&&(38===l||40===l)||"y"!==i.axis&&(37===l||39===l)){if((38===l||40===l)&&!n.overflowed[0]||(37===l||39===l)&&!n.overflowed[1])return;"keyup"===t.type&&(s="off");e(document.activeElement).is(u)||(t.preventDefault(),t.stopImmediatePropagation(),a(s,l))}else if(33===l||34===l){if((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){V(o);var f=34===l?-1:1;if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=Math.abs(c[0].offsetLeft)-.9*f*d.width();else var h="y",m=Math.abs(c[0].offsetTop)-.9*f*d.height();Q(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}else if((35===l||36===l)&&!e(document.activeElement).is(u)&&((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=35===l?Math.abs(d.width()-c.outerWidth(!1)):0;else var h="y",m=35===l?Math.abs(d.height()-c.outerHeight(!1)):0;Q(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}}var o=e(this),n=o.data(a),i=n.opt,r=n.sequential,l=a+"_"+n.idx,s=e("#mCSB_"+n.idx),c=e("#mCSB_"+n.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",f=c.find("iframe"),h=["blur."+l+" keydown."+l+" keyup."+l];f.length&&f.each(function(){e(this).load(function(){L(this)&&e(this.contentDocument||this.contentWindow.document).bind(h[0],function(e){t(e)})})});s.attr("tabindex","0").bind(h[0],function(e){t(e)})},q=function(t,o,n,i,r){function l(e){var o="stepped"!==f.type,a=r?r:e?o?p/1.5:g:1e3/60,n=e?o?7.5:40:2.5,s=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],d=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],u="x"===f.dir[0]?s[1]+f.dir[1]*d[1]*n:s[0]+f.dir[1]*d[0]*n,m="x"===f.dir[0]?s[1]+f.dir[1]*parseInt(f.scrollAmount):s[0]+f.dir[1]*parseInt(f.scrollAmount),v="auto"!==f.scrollAmount?m:u,x=i?i:e?o?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",_=e?!0:!1;return e&&17>a&&(v="x"===f.dir[0]?s[1]:s[0]),Q(t,v.toString(),{dir:f.dir[0],scrollEasing:x,dur:a,onComplete:_}),e?void(f.dir=!1):(clearTimeout(f.step),void(f.step=setTimeout(function(){l()},a)))}function s(){clearTimeout(f.step);Z(f,"step");V(t)}var c=t.data(a),u=c.opt,f=c.sequential,h=e("#mCSB_"+c.idx+"_container"),m="stepped"===f.type?!0:!1,p=u.scrollInertia<26?26:u.scrollInertia,g=u.scrollInertia<1?17:u.scrollInertia;switch(o){case"on":if(f.dir=[n===d[16]||n===d[15]||39===n||37===n?"x":"y",n===d[13]||n===d[15]||38===n||37===n?-1:1],V(t),te(n)&&"stepped"===f.type)return;l(m);break;case"off":s();(m||c.tweenRunning&&f.dir)&&l(!0)}},Y=function(t){var o=e(this).data(a).opt,n=[];return"function"==typeof t&&(t=t()),t instanceof Array?n=t.length>1?[t[0],t[1]]:"x"===o.axis?[null,t[0]]:[t[0],null]:(n[0]=t.y?t.y:t.x||"x"===o.axis?null:t,n[1]=t.x?t.x:t.y||"y"===o.axis?null:t),"function"==typeof n[0]&&(n[0]=n[0]()),"function"==typeof n[1]&&(n[1]=n[1]()),n},j=function(t,o){if(null!=t&&"undefined"!=typeof t){var n=e(this),i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx+"_container"),s=l.parent(),c=typeof t;o||(o="x"===r.axis?"x":"y");var d="x"===o?l.outerWidth(!1):l.outerHeight(!1),f="x"===o?l[0].offsetLeft:l[0].offsetTop,h="x"===o?"left":"top";switch(c){case"function":return t();case"object":var m=t.jquery?t:e(t);return m.length?"x"===o?oe(m)[1]:oe(m)[0]:void 0;case"string":case"number":if(te(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(f-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var p=f+parseInt(t.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==t.indexOf("px")&&te(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(s.height()-l.outerHeight(!1));if("right"===t)return Math.abs(s.width()-l.outerWidth(!1));if("first"===t||"last"===t){var m=l.find(":"+t);return"x"===o?oe(m)[1]:oe(m)[0]}return e(t).length?"x"===o?oe(e(t))[1]:oe(e(t))[0]:(l.css(h,t),void u.update.call(null,n[0]))}}},X=function(t){function o(){return clearTimeout(h[0].autoUpdate),0===s.parents("html").length?void(s=null):void(h[0].autoUpdate=setTimeout(function(){return f.advanced.updateOnSelectorChange&&(m=r(),m!==w)?(l(3),void(w=m)):(f.advanced.updateOnContentResize&&(p=[h.outerHeight(!1),h.outerWidth(!1),v.height(),v.width(),_()[0],_()[1]],(p[0]!==S[0]||p[1]!==S[1]||p[2]!==S[2]||p[3]!==S[3]||p[4]!==S[4]||p[5]!==S[5])&&(l(p[0]!==S[0]||p[1]!==S[1]),S=p)),f.advanced.updateOnImageLoad&&(g=n(),g!==b&&(h.find("img").each(function(){i(this)}),b=g)),void((f.advanced.updateOnSelectorChange||f.advanced.updateOnContentResize||f.advanced.updateOnImageLoad)&&o()))},f.advanced.autoUpdateTimeout))}function n(){var e=0;return f.advanced.updateOnImageLoad&&(e=h.find("img").length),e}function i(t){function o(e,t){return function(){return t.apply(e,arguments)}}function a(){this.onload=null;e(t).addClass(d[2]);l(2)}if(e(t).hasClass(d[2]))return void l();var n=new Image;n.onload=o(n,a);n.src=t.src}function r(){f.advanced.updateOnSelectorChange===!0&&(f.advanced.updateOnSelectorChange="*");var t=0,o=h.find(f.advanced.updateOnSelectorChange);return f.advanced.updateOnSelectorChange&&o.length>0&&o.each(function(){t+=e(this).height()+e(this).width()}),t}function l(e){clearTimeout(h[0].autoUpdate);u.update.call(null,s[0],e)}var s=e(this),c=s.data(a),f=c.opt,h=e("#mCSB_"+c.idx+"_container");if(t)return clearTimeout(h[0].autoUpdate),void Z(h[0],"autoUpdate");var m,p,g,v=h.parent(),x=[e("#mCSB_"+c.idx+"_scrollbar_vertical"),e("#mCSB_"+c.idx+"_scrollbar_horizontal")],_=function(){return[x[0].is(":visible")?x[0].outerHeight(!0):0,x[1].is(":visible")?x[1].outerWidth(!0):0]},w=r(),S=[h.outerHeight(!1),h.outerWidth(!1),v.height(),v.width(),_()[0],_()[1]],b=n();o()},N=function(e,t,o){return Math.round(e/t)*t-o},V=function(t){var o=t.data(a),n=e("#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal");n.each(function(){K.call(this)})},Q=function(t,o,n){function i(e){return s&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||_>=w[0]+b,c.callbacks.alwaysTriggerOffsets||-C>=_]}function l(){var e=[h[0].offsetTop,h[0].offsetLeft],o=[v[0].offsetTop,v[0].offsetLeft],a=[h.outerHeight(!1),h.outerWidth(!1)],i=[f.height(),f.width()];t[0].mcs={content:h,top:e[0],left:e[1],draggerTop:o[0],draggerLeft:o[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(a[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(a[1])-i[1])),direction:n.dir}}var s=t.data(a),c=s.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},n=e.extend(d,n),u=[n.dur,n.drag?0:n.dur],f=e("#mCSB_"+s.idx),h=e("#mCSB_"+s.idx+"_container"),m=h.parent(),p=c.callbacks.onTotalScrollOffset?Y.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?Y.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=n.trigger,(0!==m.scrollTop()||0!==m.scrollLeft())&&(e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),m.scrollTop(0).scrollLeft(0)),"_resetY"!==o||s.contentReset.y||(i("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),"_resetX"!==o||s.contentReset.x||(i("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),"_resetY"!==o&&"_resetX"!==o){switch(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(i("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(i("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),c.snapAmount&&(o=N(o,c.snapAmount,c.snapOffset)),n.dir){case"x":var v=e("#mCSB_"+s.idx+"_dragger_horizontal"),x="left",_=h[0].offsetLeft,w=[f.width()-h.outerWidth(!1),v.parent().width()-v.width()],S=[o,0===o?0:o/s.scrollRatio.x],b=p[1],C=g[1],B=b>0?b/s.scrollRatio.x:0,T=C>0?C/s.scrollRatio.x:0;break;case"y":var v=e("#mCSB_"+s.idx+"_dragger_vertical"),x="top",_=h[0].offsetTop,w=[f.height()-h.outerHeight(!1),v.parent().height()-v.height()],S=[o,0===o?0:o/s.scrollRatio.y],b=p[0],C=g[0],B=b>0?b/s.scrollRatio.y:0,T=C>0?C/s.scrollRatio.y:0}S[1]<0||0===S[0]&&0===S[1]?S=[0,0]:S[1]>=w[1]?S=[w[0],w[1]]:S[0]=-S[0];t[0].mcs||(l(),i("onInit")&&c.callbacks.onInit.call(t[0]));clearTimeout(h[0].onCompleteTimeout);(s.tweenRunning||!(0===_&&S[0]>=0||_===w[0]&&S[0]<=w[0]))&&(G(v[0],x,Math.round(S[1]),u[1],n.scrollEasing),G(h[0],x,Math.round(S[0]),u[0],n.scrollEasing,n.overwrite,{onStart:function(){n.callbacks&&n.onStart&&!s.tweenRunning&&(i("onScrollStart")&&(l(),c.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,y(v),s.cbOffsets=r())},onUpdate:function(){n.callbacks&&n.onUpdate&&i("whileScrolling")&&(l(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(n.callbacks&&n.onComplete){"yx"===c.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){i("onScroll")&&(l(),c.callbacks.onScroll.call(t[0]));i("onTotalScroll")&&S[1]>=w[1]-B&&s.cbOffsets[0]&&(l(),c.callbacks.onTotalScroll.call(t[0]));i("onTotalScrollBack")&&S[1]<=T&&s.cbOffsets[1]&&(l(),c.callbacks.onTotalScrollBack.call(t[0]));s.tweenRunning=!1;h[0].idleTimer=0;y(v,"hide")},e)}}}))}},G=function(e,t,o,a,n,i,r){function l(){S.stop||(x||m.call(),x=J()-v,s(),x>=S.time&&(S.time=x>S.time?x+f-(x-S.time):x+f-1,S.time<x+1&&(S.time=x+1)),S.time<a?S.id=h(l):g.call())}function s(){a>0?(S.currVal=u(S.time,_,b,a,n),w[t]=Math.round(S.currVal)+"px"):w[t]=o+"px";p.call()}function c(){f=1e3/60;S.time=x+f;h=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return s(),setTimeout(e,.01)};S.id=h(l)}function d(){null!=S.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(S.id):clearTimeout(S.id),S.id=null)}function u(e,t,o,a,n){switch(n){case"linear":case"mcsLinear":return o*e/a+t;case"mcsLinearOut":return e/=a,e--,o*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=a/2,1>e?o/2*e*e+t:(e--,-o/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=a/2,1>e?o/2*Math.pow(2,10*(e-1))+t:(e--,o/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=a/2,1>e?o/2*e*e*e+t:(e-=2,o/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=a,e--,-o*(e*e*e*e-1)+t;case"easeOutStrong":return o*(-Math.pow(2,-10*e/a)+1)+t;case"easeOut":case"mcsEaseOut":default:var i=(e/=a)*e,r=i*e;return t+o*(.499999999999997*r*i+-2.5*i*i+5.5*r+-6.5*i+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var f,h,r=r||{},m=r.onStart||function(){},p=r.onUpdate||function(){},g=r.onComplete||function(){},v=J(),x=0,_=e.offsetTop,w=e.style,S=e._mTween[t];"left"===t&&(_=e.offsetLeft);var b=o-_;S.stop=0;"none"!==i&&d();c()},J=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},K=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],o=0;o<t.length;o++){var a=t[o];e._mTween[a].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[a].id):clearTimeout(e._mTween[a].id),e._mTween[a].id=null,e._mTween[a].stop=1)}},Z=function(e,t){try{delete e[t]}catch(o){e[t]=null}},$=function(e){return!(e.which&&1!==e.which)},ee=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},te=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},oe=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]};e.fn[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)};e[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)};e[o].defaults=i;window[o]=!0;e(window).load(function(){e(n)[o]();e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var o,a,n=e(t),i=n.parents(".mCSB_container");if(i.length)return o=i.parent(),a=[i[0].offsetTop,i[0].offsetLeft],a[0]+oe(n)[0]>=0&&a[0]+oe(n)[0]<o.height()-n.outerHeight(!1)&&a[1]+oe(n)[1]>=0&&a[1]+oe(n)[1]<o.width()-n.outerWidth(!1)},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var o=e(t).data(a);if(o)return o.overflowed[0]||o.overflowed[1]}})})})});jQuery.extend({highlight:function(node,re,nodeName,className){if(node.nodeType===3){var match=node.data.match(re);if(match){var highlight=document.createElement(nodeName||"span");highlight.className=className||"highlight";var wordNode=node.splitText(match.index);wordNode.splitText(match[0].length);var wordClone=wordNode.cloneNode(!0);return highlight.appendChild(wordClone),wordNode.parentNode.replaceChild(highlight,wordNode),1}}else if(node.nodeType===1&&node.childNodes&&!/(script|style)/i.test(node.tagName)&&!(node.tagName===nodeName.toUpperCase()&&node.className===className))for(var i=0;i<node.childNodes.length;i++)i+=jQuery.highlight(node.childNodes[i],re,nodeName,className);return 0}});jQuery.fn.unhighlight=function(options){var settings={className:"highlight",element:"span"};return jQuery.extend(settings,options),this.find(settings.element+"."+settings.className).each(function(){var parent=this.parentNode;parent.replaceChild(this.firstChild,this);parent.normalize()}).end()};jQuery.fn.highlight=function(words,options){var settings={className:"highlight",element:"span",caseSensitive:!1,wordsOnly:!1};if(jQuery.extend(settings,options),words.constructor===String&&(words=[words]),words=jQuery.grep(words,function(word){return word!=""}),words=jQuery.map(words,function(word){return word.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}),words.length==0)return this;var flag=settings.caseSensitive?"":"i",pattern="("+words.join("|")+")";settings.wordsOnly&&(pattern="\\b"+pattern+"\\b");var re=new RegExp(pattern,flag);return this.each(function(){jQuery.highlight(this,re,settings.element,settings.className)})};
/*!
 * Isotope PACKAGED v2.0.0-beta.9
 * Magical sorting and filtering layouts
 * http://isotope.metafizzy.co
 */
(function(window){var slice=Array.prototype.slice;function noop(){}function defineBridget($){return;function addOptionMethod(PluginClass){PluginClass.prototype.option||(PluginClass.prototype.option=function(opts){$.isPlainObject(opts)&&(this.options=$.extend(!0,this.options,opts))})}var logError;function bridge(namespace,PluginClass){$.fn[namespace]=function(options){if(typeof options=="string"){for(var args=slice.call(arguments,1),i=0,len=this.length;i<len;i++){var elem=this[i],instance=$.data(elem,namespace);if(!instance){logError("cannot call methods on "+namespace+" prior to initialization; "+"attempted to call '"+options+"'");continue}if(!$.isFunction(instance[options])||options.charAt(0)==="_"){logError("no such method '"+options+"' for "+namespace+" instance");continue}var returnValue=instance[options].apply(instance,args);if(returnValue!==undefined)return returnValue}return this}return this.each(function(){var instance=$.data(this,namespace);instance?(instance.option(options),instance._init()):(instance=new PluginClass(this,options),$.data(this,namespace,instance))})}}}typeof define=="function"&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],defineBridget):defineBridget(window.jQuery)})(window);
/*!
 * eventie v1.0.5
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 * MIT license
 */
(function(window){var docElem=document.documentElement,bind=function(){};function getIEEvent(obj){var event=window.event;return event.target=event.target||event.srcElement||obj,event}docElem.addEventListener?bind=function(obj,type,fn){obj.addEventListener(type,fn,!1)}:docElem.attachEvent&&(bind=function(obj,type,fn){obj[type+fn]=fn.handleEvent?function(){var event=getIEEvent(obj);fn.handleEvent.call(fn,event)}:function(){var event=getIEEvent(obj);fn.call(obj,event)};obj.attachEvent("on"+type,obj[type+fn])});var unbind=function(){};docElem.removeEventListener?unbind=function(obj,type,fn){obj.removeEventListener(type,fn,!1)}:docElem.detachEvent&&(unbind=function(obj,type,fn){obj.detachEvent("on"+type,obj[type+fn]);try{delete obj[type+fn]}catch(err){obj[type+fn]=undefined}});var eventie={bind:bind,unbind:unbind};typeof define=="function"&&define.amd?define("eventie/eventie",eventie):typeof exports=="object"?module.exports=eventie:window.eventie=eventie})(this);
/*!
 * docReady
 * Cross browser DOMContentLoaded event emitter
 */
(function(window){var document=window.document,queue=[];function docReady(fn){typeof fn=="function"&&(docReady.isReady?fn():queue.push(fn))}docReady.isReady=!1;function init(event){var isIE8NotReady=event.type==="readystatechange"&&document.readyState!=="complete";if(!docReady.isReady&&!isIE8NotReady){docReady.isReady=!0;for(var i=0,len=queue.length;i<len;i++){var fn=queue[i];fn()}}}function defineDocReady(eventie){return eventie.bind(document,"DOMContentLoaded",init),eventie.bind(document,"readystatechange",init),eventie.bind(window,"load",init),docReady}typeof define=="function"&&define.amd?(docReady.isReady=typeof requirejs=="function",define("doc-ready/doc-ready",["eventie/eventie"],defineDocReady)):window.docReady=defineDocReady(window.eventie)})(this);
/*!
 * EventEmitter v4.2.7 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */
(function(){function EventEmitter(){}var proto=EventEmitter.prototype,exports=this,originalGlobalValue=exports.EventEmitter;function indexOfListener(listeners,listener){for(var i=listeners.length;i--;)if(listeners[i].listener===listener)return i;return-1}function alias(name){return function aliasClosure(){return this[name].apply(this,arguments)}}proto.getListeners=function getListeners(evt){var events=this._getEvents(),response,key;if(evt instanceof RegExp){response={};for(key in events)events.hasOwnProperty(key)&&evt.test(key)&&(response[key]=events[key])}else response=events[evt]||(events[evt]=[]);return response};proto.flattenListeners=function flattenListeners(listeners){for(var flatListeners=[],i=0;i<listeners.length;i+=1)flatListeners.push(listeners[i].listener);return flatListeners};proto.getListenersAsObject=function getListenersAsObject(evt){var listeners=this.getListeners(evt),response;return listeners instanceof Array&&(response={},response[evt]=listeners),response||listeners};proto.addListener=function addListener(evt,listener){var listeners=this.getListenersAsObject(evt),listenerIsWrapped=typeof listener=="object";for(var key in listeners)listeners.hasOwnProperty(key)&&indexOfListener(listeners[key],listener)===-1&&listeners[key].push(listenerIsWrapped?listener:{listener:listener,once:!1});return this};proto.on=alias("addListener");proto.addOnceListener=function addOnceListener(evt,listener){return this.addListener(evt,{listener:listener,once:!0})};proto.once=alias("addOnceListener");proto.defineEvent=function defineEvent(evt){return this.getListeners(evt),this};proto.defineEvents=function defineEvents(evts){for(var i=0;i<evts.length;i+=1)this.defineEvent(evts[i]);return this};proto.removeListener=function removeListener(evt,listener){var listeners=this.getListenersAsObject(evt),index;for(var key in listeners)listeners.hasOwnProperty(key)&&(index=indexOfListener(listeners[key],listener),index!==-1&&listeners[key].splice(index,1));return this};proto.off=alias("removeListener");proto.addListeners=function addListeners(evt,listeners){return this.manipulateListeners(!1,evt,listeners)};proto.removeListeners=function removeListeners(evt,listeners){return this.manipulateListeners(!0,evt,listeners)};proto.manipulateListeners=function manipulateListeners(remove,evt,listeners){var i,value,single=remove?this.removeListener:this.addListener,multiple=remove?this.removeListeners:this.addListeners;if(typeof evt!="object"||evt instanceof RegExp)for(i=listeners.length;i--;)single.call(this,evt,listeners[i]);else for(i in evt)evt.hasOwnProperty(i)&&(value=evt[i])&&(typeof value=="function"?single.call(this,i,value):multiple.call(this,i,value));return this};proto.removeEvent=function removeEvent(evt){var type=typeof evt,events=this._getEvents(),key;if(type==="string")delete events[evt];else if(evt instanceof RegExp)for(key in events)events.hasOwnProperty(key)&&evt.test(key)&&delete events[key];else delete this._events;return this};proto.removeAllListeners=alias("removeEvent");proto.emitEvent=function emitEvent(evt,args){var listeners=this.getListenersAsObject(evt),listener,i,key,response;for(key in listeners)if(listeners.hasOwnProperty(key))for(i=listeners[key].length;i--;)listener=listeners[key][i],listener.once===!0&&this.removeListener(evt,listener.listener),response=listener.listener.apply(this,args||[]),response===this._getOnceReturnValue()&&this.removeListener(evt,listener.listener);return this};proto.trigger=alias("emitEvent");proto.emit=function emit(evt){var args=Array.prototype.slice.call(arguments,1);return this.emitEvent(evt,args)};proto.setOnceReturnValue=function setOnceReturnValue(value){return this._onceReturnValue=value,this};proto._getOnceReturnValue=function _getOnceReturnValue(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};proto._getEvents=function _getEvents(){return this._events||(this._events={})};EventEmitter.noConflict=function noConflict(){return exports.EventEmitter=originalGlobalValue,EventEmitter};typeof define=="function"&&define.amd?define("eventEmitter/EventEmitter",[],function(){return EventEmitter}):typeof module=="object"&&module.exports?module.exports=EventEmitter:this.EventEmitter=EventEmitter}).call(this);
/*!
 * getStyleProperty v1.0.3
 * original by kangax
 * http://perfectionkills.com/feature-testing-css-properties/
 */
(function(window){var prefixes="Webkit Moz ms Ms O".split(" "),docElemStyle=document.documentElement.style;function getStyleProperty(propName){if(propName){if(typeof docElemStyle[propName]=="string")return propName;propName=propName.charAt(0).toUpperCase()+propName.slice(1);for(var prefixed,i=0,len=prefixes.length;i<len;i++)if(prefixed=prefixes[i]+propName,typeof docElemStyle[prefixed]=="string")return prefixed}}typeof define=="function"&&define.amd?define("get-style-property/get-style-property",[],function(){return getStyleProperty}):typeof exports=="object"?module.exports=getStyleProperty:window.getStyleProperty=getStyleProperty})(window),function(window){var getComputedStyle=window.getComputedStyle,getStyle=getComputedStyle?function(elem){return getComputedStyle(elem,null)}:function(elem){return elem.currentStyle};function getStyleSize(value){var num=parseFloat(value),isValid=value.indexOf("%")===-1&&!isNaN(num);return isValid&&num}var measurements=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];function getZeroSize(){for(var size={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},i=0,len=measurements.length;i<len;i++){var measurement=measurements[i];size[measurement]=0}return size}function defineGetSize(getStyleProperty){var boxSizingProp=getStyleProperty("boxSizing"),isBoxSizeOuter;(function(){if(boxSizingProp){var div=document.createElement("div");div.style.width="200px";div.style.padding="1px 2px 3px 4px";div.style.borderStyle="solid";div.style.borderWidth="1px 2px 3px 4px";div.style[boxSizingProp]="border-box";var body=document.body||document.documentElement;body.appendChild(div);var style=getStyle(div);isBoxSizeOuter=getStyleSize(style.width)===200;body.removeChild(div)}})();function getSize(elem){if(typeof elem=="string"&&(elem=document.querySelector(elem)),elem&&typeof elem=="object"&&elem.nodeType){var style=getStyle(elem);if(style.display==="none")return getZeroSize();var size={};size.width=elem.offsetWidth;size.height=elem.offsetHeight;for(var isBorderBox=size.isBorderBox=!!(boxSizingProp&&style[boxSizingProp]&&style[boxSizingProp]==="border-box"),i=0,len=measurements.length;i<len;i++){var measurement=measurements[i],value=style[measurement];value=mungeNonPixel(elem,value);var num=parseFloat(value);size[measurement]=isNaN(num)?0:num}var paddingWidth=size.paddingLeft+size.paddingRight,paddingHeight=size.paddingTop+size.paddingBottom,marginWidth=size.marginLeft+size.marginRight,marginHeight=size.marginTop+size.marginBottom,borderWidth=size.borderLeftWidth+size.borderRightWidth,borderHeight=size.borderTopWidth+size.borderBottomWidth,isBorderBoxSizeOuter=isBorderBox&&isBoxSizeOuter,styleWidth=getStyleSize(style.width);styleWidth!==!1&&(size.width=styleWidth+(isBorderBoxSizeOuter?0:paddingWidth+borderWidth));var styleHeight=getStyleSize(style.height);return styleHeight!==!1&&(size.height=styleHeight+(isBorderBoxSizeOuter?0:paddingHeight+borderHeight)),size.innerWidth=size.width-(paddingWidth+borderWidth),size.innerHeight=size.height-(paddingHeight+borderHeight),size.outerWidth=size.width+marginWidth,size.outerHeight=size.height+marginHeight,size}}function mungeNonPixel(elem,value){if(getComputedStyle||value.indexOf("%")===-1)return value;var style=elem.style,left=style.left,rs=elem.runtimeStyle,rsLeft=rs&&rs.left;return rsLeft&&(rs.left=elem.currentStyle.left),style.left=value,value=style.pixelLeft,style.left=left,rsLeft&&(rs.left=rsLeft),value}return getSize}typeof define=="function"&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],defineGetSize):typeof exports=="object"?module.exports=defineGetSize(require("get-style-property")):window.getSize=defineGetSize(window.getStyleProperty)}(window),function(global,ElemProto){var matchesMethod=function(){if(ElemProto.matchesSelector)return"matchesSelector";for(var prefixes=["webkit","moz","ms","o"],i=0,len=prefixes.length;i<len;i++){var prefix=prefixes[i],method=prefix+"MatchesSelector";if(ElemProto[method])return method}}();function match(elem,selector){return elem[matchesMethod](selector)}function checkParent(elem){if(!elem.parentNode){var fragment=document.createDocumentFragment();fragment.appendChild(elem)}}function query(elem,selector){checkParent(elem);for(var elems=elem.parentNode.querySelectorAll(selector),i=0,len=elems.length;i<len;i++)if(elems[i]===elem)return!0;return!1}function matchChild(elem,selector){return checkParent(elem),match(elem,selector)}var matchesSelector;if(matchesMethod){var div=document.createElement("div"),supportsOrphans=match(div,"div");matchesSelector=supportsOrphans?match:matchChild}else matchesSelector=query;typeof define=="function"&&define.amd?define("matches-selector/matches-selector",[],function(){return matchesSelector}):window.matchesSelector=matchesSelector}(this,Element.prototype),function(window){var getComputedStyle=window.getComputedStyle,getStyle=getComputedStyle?function(elem){return getComputedStyle(elem,null)}:function(elem){return elem.currentStyle};function extend(a,b){for(var prop in b)a[prop]=b[prop];return a}function isEmptyObj(obj){for(var prop in obj)return!1;return prop=null,!0}function toDash(str){return str.replace(/([A-Z])/g,function($1){return"-"+$1.toLowerCase()})}function outlayerItemDefinition(EventEmitter,getSize,getStyleProperty){var transitionProperty=getStyleProperty("transition"),transformProperty=getStyleProperty("transform"),supportsCSS3=transitionProperty&&transformProperty,is3d=!!getStyleProperty("perspective"),transitionEndEvent={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[transitionProperty],prefixableProperties=["transform","transition","transitionDuration","transitionProperty"],vendorProperties=function(){for(var cache={},i=0,len=prefixableProperties.length;i<len;i++){var prop=prefixableProperties[i],supportedProp=getStyleProperty(prop);supportedProp&&supportedProp!==prop&&(cache[prop]=supportedProp)}return cache}();function Item(element,layout){element&&(this.element=element,this.layout=layout,this.position={x:0,y:0},this._create())}extend(Item.prototype,EventEmitter.prototype);Item.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};Item.prototype.handleEvent=function(event){var method="on"+event.type;this[method]&&this[method](event)};Item.prototype.getSize=function(){this.size=getSize(this.element)};Item.prototype.css=function(style){var elemStyle=this.element.style;for(var prop in style){var supportedProp=vendorProperties[prop]||prop;elemStyle[supportedProp]=style[prop]}};Item.prototype.getPosition=function(){var style=getStyle(this.element),layoutOptions=this.layout.options,isOriginLeft=layoutOptions.isOriginLeft,isOriginTop=layoutOptions.isOriginTop,x=parseInt(style[isOriginLeft?"left":"right"],10),y=parseInt(style[isOriginTop?"top":"bottom"],10);x=isNaN(x)?0:x;y=isNaN(y)?0:y;var layoutSize=this.layout.size;x-=isOriginLeft?layoutSize.paddingLeft:layoutSize.paddingRight;y-=isOriginTop?layoutSize.paddingTop:layoutSize.paddingBottom;this.position.x=x;this.position.y=y};Item.prototype.layoutPosition=function(){var layoutSize=this.layout.size,layoutOptions=this.layout.options,style={};layoutOptions.isOriginLeft?(style.left=this.position.x+layoutSize.paddingLeft+"px",style.right=""):(style.right=this.position.x+layoutSize.paddingRight+"px",style.left="");layoutOptions.isOriginTop?(style.top=this.position.y+layoutSize.paddingTop+"px",style.bottom=""):(style.bottom=this.position.y+layoutSize.paddingBottom+"px",style.top="");this.css(style);this.emitEvent("layout",[this])};var translate=is3d?function(x,y){return"translate3d("+x+"px, "+y+"px, 0)"}:function(x,y){return"translate("+x+"px, "+y+"px)"};Item.prototype._transitionTo=function(x,y){this.getPosition();var curX=this.position.x,curY=this.position.y,compareX=parseInt(x,10),compareY=parseInt(y,10),didNotMove=compareX===this.position.x&&compareY===this.position.y;if(this.setPosition(x,y),didNotMove&&!this.isTransitioning){this.layoutPosition();return}var transX=x-curX,transY=y-curY,transitionStyle={},layoutOptions=this.layout.options;transX=layoutOptions.isOriginLeft?transX:-transX;transY=layoutOptions.isOriginTop?transY:-transY;transitionStyle.transform=translate(transX,transY);this.transition({to:transitionStyle,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})};Item.prototype.goTo=function(x,y){this.setPosition(x,y);this.layoutPosition()};Item.prototype.moveTo=supportsCSS3?Item.prototype._transitionTo:Item.prototype.goTo;Item.prototype.setPosition=function(x,y){this.position.x=parseInt(x,10);this.position.y=parseInt(y,10)};Item.prototype._nonTransition=function(args){this.css(args.to);args.isCleaning&&this._removeStyles(args.to);for(var prop in args.onTransitionEnd)args.onTransitionEnd[prop].call(this)};Item.prototype._transition=function(args){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(args);return}var _transition=this._transn;for(var prop in args.onTransitionEnd)_transition.onEnd[prop]=args.onTransitionEnd[prop];for(prop in args.to)_transition.ingProperties[prop]=!0,args.isCleaning&&(_transition.clean[prop]=!0);if(args.from){this.css(args.from);var h=this.element.offsetHeight;h=null}this.enableTransition(args.to);this.css(args.to);this.isTransitioning=!0};var itemTransitionProperties=transformProperty&&toDash(transformProperty)+",opacity";Item.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:itemTransitionProperties,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(transitionEndEvent,this,!1))};Item.prototype.transition=Item.prototype[transitionProperty?"_transition":"_nonTransition"];Item.prototype.onwebkitTransitionEnd=function(event){this.ontransitionend(event)};Item.prototype.onotransitionend=function(event){this.ontransitionend(event)};var dashedVendorProperties={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};Item.prototype.ontransitionend=function(event){if(event.target===this.element){var _transition=this._transn,propertyName=dashedVendorProperties[event.propertyName]||event.propertyName;if(delete _transition.ingProperties[propertyName],isEmptyObj(_transition.ingProperties)&&this.disableTransition(),propertyName in _transition.clean&&(this.element.style[event.propertyName]="",delete _transition.clean[propertyName]),propertyName in _transition.onEnd){var onTransitionEnd=_transition.onEnd[propertyName];onTransitionEnd.call(this);delete _transition.onEnd[propertyName]}this.emitEvent("transitionEnd",[this])}};Item.prototype.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(transitionEndEvent,this,!1);this.isTransitioning=!1};Item.prototype._removeStyles=function(style){var cleanStyle={};for(var prop in style)cleanStyle[prop]="";this.css(cleanStyle)};var cleanTransitionStyle={transitionProperty:"",transitionDuration:""};return Item.prototype.removeTransitionStyles=function(){this.css(cleanTransitionStyle)},Item.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.emitEvent("remove",[this])},Item.prototype.remove=function(){if(!transitionProperty||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}var _this=this;this.on("transitionEnd",function(){return _this.removeElem(),!0});this.hide()},Item.prototype.reveal=function(){delete this.isHidden;this.css({display:""});var options=this.layout.options;this.transition({from:options.hiddenStyle,to:options.visibleStyle,isCleaning:!0})},Item.prototype.hide=function(){this.isHidden=!0;this.css({display:""});var options=this.layout.options;this.transition({from:options.visibleStyle,to:options.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},Item.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},Item}typeof define=="function"&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],outlayerItemDefinition):(window.Outlayer={},window.Outlayer.Item=outlayerItemDefinition(window.EventEmitter,window.getSize,window.getStyleProperty))}(window);
/*!
 * Outlayer v1.1.10
 * the brains and guts of a layout library
 * MIT license
 */
(function(window){var document=window.document,console=window.console,jQuery=window.jQuery,noop=function(){};function extend(a,b){for(var prop in b)a[prop]=b[prop];return a}var objToString=Object.prototype.toString;function isArray(obj){return objToString.call(obj)==="[object Array]"}function makeArray(obj){var ary=[];if(isArray(obj))ary=obj;else if(obj&&typeof obj.length=="number")for(var i=0,len=obj.length;i<len;i++)ary.push(obj[i]);else ary.push(obj);return ary}var isElement=typeof HTMLElement=="object"?function isElementDOM2(obj){return obj instanceof HTMLElement}:function isElementQuirky(obj){return obj&&typeof obj=="object"&&obj.nodeType===1&&typeof obj.nodeName=="string"},indexOf=Array.prototype.indexOf?function(ary,obj){return ary.indexOf(obj)}:function(ary,obj){for(var i=0,len=ary.length;i<len;i++)if(ary[i]===obj)return i;return-1};function removeFrom(obj,ary){var index=indexOf(ary,obj);index!==-1&&ary.splice(index,1)}function toDashed(str){return str.replace(/(.)([A-Z])/g,function(match,$1,$2){return $1+"-"+$2}).toLowerCase()}function outlayerDefinition(eventie,docReady,EventEmitter,getSize,matchesSelector,Item){var GUID=0,instances={};function Outlayer(element,options){if(typeof element=="string"&&(element=document.querySelector(element)),!element||!isElement(element)){console&&console.error("Bad "+this.constructor.namespace+" element: "+element);return}this.element=element;this.options=extend({},this.constructor.defaults);this.option(options);var id=++GUID;this.element.outlayerGUID=id;instances[id]=this;this._create();this.options.isInitLayout&&this.layout()}return Outlayer.namespace="outlayer",Outlayer.Item=Item,Outlayer.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},extend(Outlayer.prototype,EventEmitter.prototype),Outlayer.prototype.option=function(opts){extend(this.options,opts)},Outlayer.prototype._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);extend(this.element.style,this.options.containerStyle);this.options.isResizeBound&&this.bindResize()},Outlayer.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},Outlayer.prototype._itemize=function(elems){for(var itemElems=this._filterFindItemElements(elems),Item=this.constructor.Item,items=[],i=0,len=itemElems.length;i<len;i++){var elem=itemElems[i],item=new Item(elem,this);items.push(item)}return items},Outlayer.prototype._filterFindItemElements=function(elems){elems=makeArray(elems);for(var itemSelector=this.options.itemSelector,itemElems=[],i=0,len=elems.length;i<len;i++){var elem=elems[i];if(isElement(elem))if(itemSelector){matchesSelector(elem,itemSelector)&&itemElems.push(elem);for(var childElems=elem.querySelectorAll(itemSelector),j=0,jLen=childElems.length;j<jLen;j++)itemElems.push(childElems[j])}else itemElems.push(elem)}return itemElems},Outlayer.prototype.getItemElements=function(){for(var elems=[],i=0,len=this.items.length;i<len;i++)elems.push(this.items[i].element);return elems},Outlayer.prototype.layout=function(){this._resetLayout();this._manageStamps();var isInstant=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,isInstant);this._isLayoutInited=!0},Outlayer.prototype._init=Outlayer.prototype.layout,Outlayer.prototype._resetLayout=function(){this.getSize()},Outlayer.prototype.getSize=function(){this.size=getSize(this.element)},Outlayer.prototype._getMeasurement=function(measurement,size){var option=this.options[measurement],elem;option?(typeof option=="string"?elem=this.element.querySelector(option):isElement(option)&&(elem=option),this[measurement]=elem?getSize(elem)[size]:option):this[measurement]=0},Outlayer.prototype.layoutItems=function(items,isInstant){items=this._getItemsForLayout(items);this._layoutItems(items,isInstant);this._postLayout()},Outlayer.prototype._getItemsForLayout=function(items){for(var layoutItems=[],i=0,len=items.length;i<len;i++){var item=items[i];item.isIgnored||layoutItems.push(item)}return layoutItems},Outlayer.prototype._layoutItems=function(items,isInstant){var _this=this;function onItemsLayout(){_this.emitEvent("layoutComplete",[_this,items])}if(!items||!items.length){onItemsLayout();return}this._itemsOn(items,"layout",onItemsLayout);for(var queue=[],i=0,len=items.length;i<len;i++){var item=items[i],position=this._getItemLayoutPosition(item);position.item=item;position.isInstant=isInstant||item.isLayoutInstant;queue.push(position)}this._processLayoutQueue(queue)},Outlayer.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},Outlayer.prototype._processLayoutQueue=function(queue){for(var i=0,len=queue.length;i<len;i++){var obj=queue[i];this._positionItem(obj.item,obj.x,obj.y,obj.isInstant)}},Outlayer.prototype._positionItem=function(item,x,y,isInstant){isInstant?item.goTo(x,y):item.moveTo(x,y)},Outlayer.prototype._postLayout=function(){this.resizeContainer()},Outlayer.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var size=this._getContainerSize();size&&(this._setContainerMeasure(size.width,!0),this._setContainerMeasure(size.height,!1))}},Outlayer.prototype._getContainerSize=noop,Outlayer.prototype._setContainerMeasure=function(measure,isWidth){if(measure!==undefined){var elemSize=this.size;elemSize.isBorderBox&&(measure+=isWidth?elemSize.paddingLeft+elemSize.paddingRight+elemSize.borderLeftWidth+elemSize.borderRightWidth:elemSize.paddingBottom+elemSize.paddingTop+elemSize.borderTopWidth+elemSize.borderBottomWidth);measure=Math.max(measure,0);this.element.style[isWidth?"width":"height"]=measure+"px"}},Outlayer.prototype._itemsOn=function(items,eventName,callback){var doneCount=0,count=items.length,_this=this;function tick(){return doneCount++,doneCount===count&&callback.call(_this),!0}for(var i=0,len=items.length;i<len;i++){var item=items[i];item.on(eventName,tick)}},Outlayer.prototype.ignore=function(elem){var item=this.getItem(elem);item&&(item.isIgnored=!0)},Outlayer.prototype.unignore=function(elem){var item=this.getItem(elem);item&&delete item.isIgnored},Outlayer.prototype.stamp=function(elems){if(elems=this._find(elems),elems){this.stamps=this.stamps.concat(elems);for(var i=0,len=elems.length;i<len;i++){var elem=elems[i];this.ignore(elem)}}},Outlayer.prototype.unstamp=function(elems){if(elems=this._find(elems),elems)for(var i=0,len=elems.length;i<len;i++){var elem=elems[i];removeFrom(elem,this.stamps);this.unignore(elem)}},Outlayer.prototype._find=function(elems){if(elems)return typeof elems=="string"&&(elems=this.element.querySelectorAll(elems)),makeArray(elems)},Outlayer.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var i=0,len=this.stamps.length;i<len;i++){var stamp=this.stamps[i];this._manageStamp(stamp)}}},Outlayer.prototype._getBoundingRect=function(){var boundingRect=this.element.getBoundingClientRect(),size=this.size;this._boundingRect={left:boundingRect.left+size.paddingLeft+size.borderLeftWidth,top:boundingRect.top+size.paddingTop+size.borderTopWidth,right:boundingRect.right-(size.paddingRight+size.borderRightWidth),bottom:boundingRect.bottom-(size.paddingBottom+size.borderBottomWidth)}},Outlayer.prototype._manageStamp=noop,Outlayer.prototype._getElementOffset=function(elem){var boundingRect=elem.getBoundingClientRect(),thisRect=this._boundingRect,size=getSize(elem);return{left:boundingRect.left-thisRect.left-size.marginLeft,top:boundingRect.top-thisRect.top-size.marginTop,right:thisRect.right-boundingRect.right-size.marginRight,bottom:thisRect.bottom-boundingRect.bottom-size.marginBottom}},Outlayer.prototype.handleEvent=function(event){var method="on"+event.type;this[method]&&this[method](event)},Outlayer.prototype.bindResize=function(){this.isResizeBound||(eventie.bind(window,"resize",this),this.isResizeBound=!0)},Outlayer.prototype.unbindResize=function(){this.isResizeBound&&eventie.unbind(window,"resize",this);this.isResizeBound=!1},Outlayer.prototype.onresize=function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout);var _this=this;function delayed(){_this.resize();delete _this.resizeTimeout}this.resizeTimeout=setTimeout(delayed,100)},Outlayer.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},Outlayer.prototype.needsResizeLayout=function(){var size=getSize(this.element),hasSizes=this.size&&size;return hasSizes&&size.innerWidth!==this.size.innerWidth},Outlayer.prototype.addItems=function(elems){var items=this._itemize(elems);return items.length&&(this.items=this.items.concat(items)),items},Outlayer.prototype.appended=function(elems){var items=this.addItems(elems);items.length&&(this.layoutItems(items,!0),this.reveal(items))},Outlayer.prototype.prepended=function(elems){var items=this._itemize(elems);if(items.length){var previousItems=this.items.slice(0);this.items=items.concat(previousItems);this._resetLayout();this._manageStamps();this.layoutItems(items,!0);this.reveal(items);this.layoutItems(previousItems)}},Outlayer.prototype.reveal=function(items){var len=items&&items.length;if(len)for(var i=0;i<len;i++){var item=items[i];item.reveal()}},Outlayer.prototype.hide=function(items){var len=items&&items.length;if(len)for(var i=0;i<len;i++){var item=items[i];item.hide()}},Outlayer.prototype.getItem=function(elem){for(var i=0,len=this.items.length;i<len;i++){var item=this.items[i];if(item.element===elem)return item}},Outlayer.prototype.getItems=function(elems){if(elems&&elems.length){for(var items=[],i=0,len=elems.length;i<len;i++){var elem=elems[i],item=this.getItem(elem);item&&items.push(item)}return items}},Outlayer.prototype.remove=function(elems){elems=makeArray(elems);var removeItems=this.getItems(elems);if(removeItems&&removeItems.length){this._itemsOn(removeItems,"remove",function(){this.emitEvent("removeComplete",[this,removeItems])});for(var i=0,len=removeItems.length;i<len;i++){var item=removeItems[i];item.remove();removeFrom(item,this.items)}}},Outlayer.prototype.destroy=function(){var style=this.element.style;style.height="";style.position="";style.width="";for(var i=0,len=this.items.length;i<len;i++){var item=this.items[i];item.destroy()}this.unbindResize();delete this.element.outlayerGUID;jQuery&&jQuery.removeData(this.element,this.constructor.namespace)},Outlayer.data=function(elem){var id=elem&&elem.outlayerGUID;return id&&instances[id]},Outlayer.create=function(namespace,options){function Layout(){Outlayer.apply(this,arguments)}return Object.create?Layout.prototype=Object.create(Outlayer.prototype):extend(Layout.prototype,Outlayer.prototype),Layout.prototype.constructor=Layout,Layout.defaults=extend({},Outlayer.defaults),extend(Layout.defaults,options),Layout.prototype.settings={},Layout.namespace=namespace,Layout.data=Outlayer.data,Layout.Item=function LayoutItem(){Item.apply(this,arguments)},Layout.Item.prototype=new Item,docReady(function(){for(var dashedNamespace=toDashed(namespace),elems=document.querySelectorAll(".js-"+dashedNamespace),dataAttr="data-"+dashedNamespace+"-options",i=0,len=elems.length;i<len;i++){var elem=elems[i],attr=elem.getAttribute(dataAttr),options;try{options=attr&&JSON.parse(attr)}catch(error){console&&console.error("Error parsing "+dataAttr+" on "+elem.nodeName.toLowerCase()+(elem.id?"#"+elem.id:"")+": "+error);continue}var instance=new Layout(elem,options);jQuery&&jQuery.data(elem,namespace,instance)}}),jQuery&&jQuery.bridget&&jQuery.bridget(namespace,Layout),Layout},Outlayer.Item=Item,Outlayer}typeof define=="function"&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],outlayerDefinition):window.Outlayer=outlayerDefinition(window.eventie,window.docReady,window.EventEmitter,window.getSize,window.matchesSelector,window.Outlayer.Item)})(window),function(window){function itemDefinition(Outlayer){function Item(){Outlayer.Item.apply(this,arguments)}return Item.prototype=new Outlayer.Item,Item.prototype._create=function(){this.id=this.layout.itemGUID++;Outlayer.Item.prototype._create.call(this);this.sortData={}},Item.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id;this.sortData["original-order"]=this.id;this.sortData.random=Math.random();var getSortData=this.layout.options.getSortData,sorters=this.layout._sorters;for(var key in getSortData){var sorter=sorters[key];this.sortData[key]=sorter(this.element,this)}}},Item}typeof define=="function"&&define.amd?define("isotope/js/item",["outlayer/outlayer"],itemDefinition):(window.rpp_isotope=window.rpp_isotope||{},window.rpp_isotope.Item=itemDefinition(window.Outlayer))}(window),function(window){function layoutModeDefinition(getSize,Outlayer){function LayoutMode(isotope){this.isotope=isotope;isotope&&(this.options=isotope.options[this.namespace],this.element=isotope.element,this.items=isotope.filteredItems,this.size=isotope.size)}return function(){for(var facadeMethods=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],i=0,len=facadeMethods.length;i<len;i++){var methodName=facadeMethods[i];LayoutMode.prototype[methodName]=getOutlayerMethod(methodName)}function getOutlayerMethod(methodName){return function(){return Outlayer.prototype[methodName].apply(this.isotope,arguments)}}}(),LayoutMode.prototype.needsVerticalResizeLayout=function(){var size=getSize(this.isotope.element),hasSizes=this.isotope.size&&size;return hasSizes&&size.innerHeight!==this.isotope.size.innerHeight},LayoutMode.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},LayoutMode.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},LayoutMode.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},LayoutMode.prototype.getSegmentSize=function(segment,size){var segmentName=segment+size,outerSize="outer"+size;if(this._getMeasurement(segmentName,outerSize),!this[segmentName]){var firstItemSize=this.getFirstItemSize();this[segmentName]=firstItemSize&&firstItemSize[outerSize]||this.isotope.size["inner"+size]}},LayoutMode.prototype.getFirstItemSize=function(){var firstItem=this.isotope.filteredItems[0];return firstItem&&firstItem.element&&getSize(firstItem.element)},LayoutMode.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},LayoutMode.prototype.getSize=function(){this.isotope.getSize();this.size=this.isotope.size},LayoutMode.modes={},LayoutMode.create=function(namespace,options){function Mode(){LayoutMode.apply(this,arguments)}return Mode.prototype=new LayoutMode,options&&(Mode.options=options),Mode.prototype.namespace=namespace,LayoutMode.modes[namespace]=Mode,Mode},LayoutMode}typeof define=="function"&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],layoutModeDefinition):(window.rpp_isotope=window.rpp_isotope||{},window.rpp_isotope.LayoutMode=layoutModeDefinition(window.getSize,window.Outlayer))}(window);
/*!
 * Masonry v3.1.4
 * Cascading grid layout library
 * http://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */
(function(window){var indexOf=Array.prototype.indexOf?function(items,value){return items.indexOf(value)}:function(items,value){for(var i=0,len=items.length;i<len;i++){var item=items[i];if(item===value)return i}return-1};function masonryDefinition(Outlayer,getSize){var Masonry=Outlayer.create("masonry");return Masonry.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();var i=this.cols;for(this.colYs=[];i--;)this.colYs.push(0);this.maxY=0},Masonry.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var firstItem=this.items[0],firstItemElem=firstItem&&firstItem.element;this.columnWidth=firstItemElem&&getSize(firstItemElem).outerWidth||this.containerWidth}this.columnWidth+=this.gutter;this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth);this.cols=Math.max(this.cols,1)},Masonry.prototype.getContainerWidth=function(){var container=this.options.isFitWidth?this.element.parentNode:this.element,size=getSize(container);this.containerWidth=size&&size.innerWidth},Masonry.prototype._getItemLayoutPosition=function(item){item.getSize();var remainder=item.size.outerWidth%this.columnWidth,mathMethod=remainder&&remainder<1?"round":"ceil",colSpan=Math[mathMethod](item.size.outerWidth/this.columnWidth);colSpan=Math.min(colSpan,this.cols);for(var colGroup=this._getColGroup(colSpan),minimumY=Math.min.apply(Math,colGroup),shortColIndex=indexOf(colGroup,minimumY),position={x:this.columnWidth*shortColIndex,y:minimumY},setHeight=minimumY+item.size.outerHeight,setSpan=this.cols+1-colGroup.length,i=0;i<setSpan;i++)this.colYs[shortColIndex+i]=setHeight;return position},Masonry.prototype._getColGroup=function(colSpan){if(colSpan<2)return this.colYs;for(var colGroup=[],groupCount=this.cols+1-colSpan,i=0;i<groupCount;i++){var groupColYs=this.colYs.slice(i,i+colSpan);colGroup[i]=Math.max.apply(Math,groupColYs)}return colGroup},Masonry.prototype._manageStamp=function(stamp){var stampSize=getSize(stamp),offset=this._getElementOffset(stamp),firstX=this.options.isOriginLeft?offset.left:offset.right,lastX=firstX+stampSize.outerWidth,firstCol=Math.floor(firstX/this.columnWidth);firstCol=Math.max(0,firstCol);var lastCol=Math.floor(lastX/this.columnWidth);lastCol-=lastX%this.columnWidth?0:1;lastCol=Math.min(this.cols-1,lastCol);for(var stampMaxY=(this.options.isOriginTop?offset.top:offset.bottom)+stampSize.outerHeight,i=firstCol;i<=lastCol;i++)this.colYs[i]=Math.max(stampMaxY,this.colYs[i])},Masonry.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var size={height:this.maxY};return this.options.isFitWidth&&(size.width=this._getContainerFitWidth()),size},Masonry.prototype._getContainerFitWidth=function(){for(var unusedCols=0,i=this.cols;--i;){if(this.colYs[i]!==0)break;unusedCols++}return(this.cols-unusedCols)*this.columnWidth-this.gutter},Masonry.prototype.resize=function(){var previousWidth=this.containerWidth;(this.getContainerWidth(),previousWidth!==this.containerWidth)&&this.layout()},Masonry}typeof define=="function"&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],masonryDefinition):window.Masonry=masonryDefinition(window.Outlayer,window.getSize)})(window);
/*!
 * Masonry layout mode
 * sub-classes Masonry
 * http://masonry.desandro.com
 */
(function(window){function extend(a,b){for(var prop in b)a[prop]=b[prop];return a}function masonryDefinition(LayoutMode,Masonry){var MasonryMode=LayoutMode.create("masonry"),_getElementOffset=MasonryMode.prototype._getElementOffset,layout=MasonryMode.prototype.layout,_getMeasurement=MasonryMode.prototype._getMeasurement;extend(MasonryMode.prototype,Masonry.prototype);MasonryMode.prototype._getElementOffset=_getElementOffset;MasonryMode.prototype.layout=layout;MasonryMode.prototype._getMeasurement=_getMeasurement;var measureColumns=MasonryMode.prototype.measureColumns;return MasonryMode.prototype.measureColumns=function(){this.items=this.isotope.filteredItems;measureColumns.call(this)},MasonryMode}typeof define=="function"&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],masonryDefinition):masonryDefinition(window.rpp_isotope.LayoutMode,window.Masonry)})(window),function(window){function fitRowsDefinition(LayoutMode){var FitRows=LayoutMode.create("fitRows");return FitRows.prototype._resetLayout=function(){this.x=0;this.y=0;this.maxY=0},FitRows.prototype._getItemLayoutPosition=function(item){item.getSize();this.x!==0&&item.size.outerWidth+this.x>this.isotope.size.innerWidth&&(this.x=0,this.y=this.maxY);var position={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+item.size.outerHeight),this.x+=item.size.outerWidth,position},FitRows.prototype._getContainerSize=function(){return{height:this.maxY}},FitRows}typeof define=="function"&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],fitRowsDefinition):fitRowsDefinition(window.rpp_isotope.LayoutMode)}(window),function(window){function verticalDefinition(LayoutMode){var Vertical=LayoutMode.create("vertical",{horizontalAlignment:0});return Vertical.prototype._resetLayout=function(){this.y=0},Vertical.prototype._getItemLayoutPosition=function(item){item.getSize();var x=(this.isotope.size.innerWidth-item.size.outerWidth)*this.options.horizontalAlignment,y=this.y;return this.y+=item.size.outerHeight,{x:x,y:y}},Vertical.prototype._getContainerSize=function(){return{height:this.y}},Vertical}typeof define=="function"&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],verticalDefinition):verticalDefinition(window.rpp_isotope.LayoutMode)}(window);
/*!
 * Isotope v2.0.0-beta.9
 * Magical sorting and filtering layouts
 * http://isotope.metafizzy.co
 */
(function(window){var jQuery=window.jQuery;function extend(a,b){for(var prop in b)a[prop]=b[prop];return a}var trim=String.prototype.trim?function(str){return str.trim()}:function(str){return str.replace(/^\s+|\s+$/g,"")},docElem=document.documentElement,getText=docElem.textContent?function(elem){return elem.textContent}:function(elem){return elem.innerText},objToString=Object.prototype.toString;function isArray(obj){return objToString.call(obj)==="[object Array]"}var indexOf=Array.prototype.indexOf?function(ary,obj){return ary.indexOf(obj)}:function(ary,obj){for(var i=0,len=ary.length;i<len;i++)if(ary[i]===obj)return i;return-1};function makeArray(obj){var ary=[];if(isArray(obj))ary=obj;else if(obj&&typeof obj.length=="number")for(var i=0,len=obj.length;i<len;i++)ary.push(obj[i]);else ary.push(obj);return ary}function removeFrom(obj,ary){var index=indexOf(ary,obj);index!==-1&&ary.splice(index,1)}function isotopeDefinition(Outlayer,getSize,matchesSelector,Item,LayoutMode){var Isotope=Outlayer.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});Isotope.Item=Item;Isotope.LayoutMode=LayoutMode;Isotope.prototype._create=function(){this.itemGUID=0;this._sorters={};this._getSorters();Outlayer.prototype._create.call(this);this.modes={};this.filteredItems=this.items;this.sortHistory=["original-order"];for(var name in LayoutMode.modes)this._initLayoutMode(name)};Isotope.prototype.reloadItems=function(){this.itemGUID=0;Outlayer.prototype.reloadItems.call(this)};Isotope.prototype._itemize=function(){for(var items=Outlayer.prototype._itemize.apply(this,arguments),i=0,len=items.length;i<len;i++){var item=items[i];item.id=this.itemGUID++}return this._updateItemsSortData(items),items};Isotope.prototype._initLayoutMode=function(name){var Mode=LayoutMode.modes[name],initialOpts=this.options[name]||{};this.options[name]=Mode.options?extend(Mode.options,initialOpts):initialOpts;this.modes[name]=new Mode(this)};Isotope.prototype.layout=function(){if(!this._isLayoutInited&&this.options.isInitLayout){this.arrange();return}this._layout()};Isotope.prototype._layout=function(){var isInstant=this._getIsInstant();this._resetLayout();this._manageStamps();this.layoutItems(this.filteredItems,isInstant);this._isLayoutInited=!0};Isotope.prototype.arrange=function(opts){this.option(opts);this._getIsInstant();this.filteredItems=this._filter(this.items);this._sort();this._layout()};Isotope.prototype._init=Isotope.prototype.arrange;Isotope.prototype._getIsInstant=function(){var isInstant=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=isInstant};Isotope.prototype._filter=function(items){var filter=this.options.filter;filter=filter||"*";for(var matches=[],hiddenMatched=[],visibleUnmatched=[],test=this._getFilterTest(filter),i=0,len=items.length;i<len;i++){var item=items[i];if(!item.isIgnored){var isMatched=test(item);isMatched&&matches.push(item);isMatched&&item.isHidden?hiddenMatched.push(item):isMatched||item.isHidden||visibleUnmatched.push(item)}}var _this=this;function hideReveal(){_this.reveal(hiddenMatched);_this.hide(visibleUnmatched)}return this._isInstant?this._noTransition(hideReveal):hideReveal(),matches};Isotope.prototype._getFilterTest=function(filter){return jQuery&&this.options.isJQueryFiltering?function(item){return jQuery(item.element).is(filter)}:typeof filter=="function"?function(item){return filter(item.element)}:function(item){return matchesSelector(item.element,filter)}};Isotope.prototype.updateSortData=function(elems){this._getSorters();elems=makeArray(elems);var items=this.getItems(elems);items=items.length?items:this.items;this._updateItemsSortData(items)};Isotope.prototype._getSorters=function(){var getSortData=this.options.getSortData;for(var key in getSortData){var sorter=getSortData[key];this._sorters[key]=mungeSorter(sorter)}};Isotope.prototype._updateItemsSortData=function(items){for(var i=0,len=items.length;i<len;i++){var item=items[i];item.updateSortData()}};var mungeSorter=function(){function mungeSorter(sorter){if(typeof sorter!="string")return sorter;var args=trim(sorter).split(" "),query=args[0],attrMatch=query.match(/^\[(.+)\]$/),attr=attrMatch&&attrMatch[1],getValue=getValueGetter(attr,query),parser=Isotope.sortDataParsers[args[1]];return parser?function(elem){return elem&&parser(getValue(elem))}:function(elem){return elem&&getValue(elem)}}function getValueGetter(attr,query){return attr?function(elem){return elem.getAttribute(attr)}:function(elem){var child=elem.querySelector(query);return child&&getText(child)}}return mungeSorter}();Isotope.sortDataParsers={parseInt:function(val){return parseInt(val,10)},parseFloat:function(val){return parseFloat(val)}};Isotope.prototype._sort=function(){var sortByOpt=this.options.sortBy;if(sortByOpt){var sortBys=[].concat.apply(sortByOpt,this.sortHistory),itemSorter=getItemSorter(sortBys,this.options.sortAscending);this.filteredItems.sort(itemSorter);sortByOpt!==this.sortHistory[0]&&this.sortHistory.unshift(sortByOpt)}};function getItemSorter(sortBys,sortAsc){return function sorter(itemA,itemB){for(var i=0,len=sortBys.length;i<len;i++){var sortBy=sortBys[i],a=itemA.sortData[sortBy],b=itemB.sortData[sortBy];if(a>b||a<b){var isAscending=sortAsc[sortBy]!==undefined?sortAsc[sortBy]:sortAsc,direction=isAscending?1:-1;return(a>b?1:-1)*direction}}return 0}}Isotope.prototype._mode=function(){var layoutMode=this.options.layoutMode,mode=this.modes[layoutMode];if(!mode)throw new Error("No layout mode: "+layoutMode);return mode.options=this.options[layoutMode],mode};Isotope.prototype._resetLayout=function(){Outlayer.prototype._resetLayout.call(this);this._mode()._resetLayout()};Isotope.prototype._getItemLayoutPosition=function(item){return this._mode()._getItemLayoutPosition(item)};Isotope.prototype._manageStamp=function(stamp){this._mode()._manageStamp(stamp)};Isotope.prototype._getContainerSize=function(){return this._mode()._getContainerSize()};Isotope.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()};Isotope.prototype.appended=function(elems){var items=this.addItems(elems);if(items.length){var filteredItems=this._filterRevealAdded(items);this.filteredItems=this.filteredItems.concat(filteredItems)}};Isotope.prototype.prepended=function(elems){var items=this._itemize(elems);if(items.length){var previousItems=this.items.slice(0);this.items=items.concat(previousItems);this._resetLayout();this._manageStamps();var filteredItems=this._filterRevealAdded(items);this.layoutItems(previousItems);this.filteredItems=filteredItems.concat(this.filteredItems)}};Isotope.prototype._filterRevealAdded=function(items){var filteredItems=this._noTransition(function(){return this._filter(items)});return this.layoutItems(filteredItems,!0),this.reveal(filteredItems),items};Isotope.prototype.insert=function(elems){var items=this.addItems(elems);if(items.length){for(var item,len=items.length,i=0;i<len;i++)item=items[i],this.element.appendChild(item.element);var filteredInsertItems=this._filter(items);for(this._noTransition(function(){this.hide(filteredInsertItems)}),i=0;i<len;i++)items[i].isLayoutInstant=!0;for(this.arrange(),i=0;i<len;i++)delete items[i].isLayoutInstant;this.reveal(filteredInsertItems)}};var _remove=Isotope.prototype.remove;return Isotope.prototype.remove=function(elems){elems=makeArray(elems);var removeItems=this.getItems(elems);if(_remove.call(this,elems),removeItems&&removeItems.length)for(var i=0,len=removeItems.length;i<len;i++){var item=removeItems[i];removeFrom(item,this.filteredItems)}},Isotope.prototype._noTransition=function(fn){var transitionDuration=this.options.transitionDuration;this.options.transitionDuration=0;var returnValue=fn.call(this);return this.options.transitionDuration=transitionDuration,returnValue},Isotope}typeof define=="function"&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],isotopeDefinition):window.rpp_isotope=isotopeDefinition(window.Outlayer,window.getSize,window.matchesSelector,window.rpp_isotope.Item,window.rpp_isotope.LayoutMode)})(window);
/*! Ajax Search pro 4.0 js */
(function($){var methods={init:function(options,elem){var $this=this;this.elem=elem;this.$elem=$(elem);$this.searching=!1;$this.o=$.extend({},options);$this.n=new Object;$this.n.container=$(this.elem);$this.o.rid=$this.n.container.attr("id").match(/^ajaxsearchpro(.*)/)[1];$this.o.id=$this.n.container.attr("id").match(/^ajaxsearchpro(.*)_/)[1];$this.n.probox=$(".probox",$this.n.container);$this.n.proinput=$(".proinput",$this.n.container);$this.n.text=$(".proinput input.orig",$this.n.container);$this.n.textAutocomplete=$(".proinput input.autocomplete",$this.n.container);$this.n.loading=$(".proinput .loading",$this.n.container);$this.n.proloading=$(".proloading",$this.n.container);$this.n.proclose=$(".proclose",$this.n.container);$this.n.promagnifier=$(".promagnifier",$this.n.container);$this.n.prosettings=$(".prosettings",$this.n.container);$this.n.searchsettings=$("#ajaxsearchprosettings"+$this.o.rid);$this.n.trythis=$("#asp-try-"+$this.o.rid);$this.o.blocking=!1;$this.resultsOpened=!1;$this.n.searchsettings.length<=0&&($this.n.searchsettings=$("#ajaxsearchprobsettings"+$this.o.rid),$this.o.blocking=!0);$this.n.resultsDiv=$("#ajaxsearchprores"+$this.o.rid);$this.n.hiddenContainer=$("#asp_hidden_data");$this.n.aspItemOverlay=$(".asp_item_overlay",$this.n.hiddenContainer);$this.resizeTimeout=null;typeof $.browser!="undefined"&&typeof $.browser.mozilla!="undefined"&&typeof $.browser.version!="undefined"&&parseInt($.browser.version)>13&&$this.n.searchsettings.addClass("asp_firefox");$this.n.showmore=$(".showmore",$this.n.resultsDiv);$this.n.items=$(".item",$this.n.resultsDiv);$this.n.results=$(".results",$this.n.resultsDiv);$this.n.resdrg=$(".resdrg",$this.n.resultsDiv);$this.il={columns:3,itemsPerPage:6};$this.firstClick=!0;$this.post=null;$this.postAuto=null;$this.cleanUp();$this.n.textAutocomplete.val("");$this.o.resultitemheight=parseInt($this.o.resultitemheight);$this.scroll=new Object;$this.settScroll=null;$this.n.resultsAppend=$("#wpdreams_asp_results_"+$this.o.id);$this.n.settingsAppend=$("#wpdreams_asp_settings_"+$this.o.id);$this.currentPage=1;$this.isotopic=null;$this.lastSuccesfulPhrase="";$this.animation="bounceIn";switch($this.o.resultstype){case"vertical":$this.animation=$this.o.vresultanimation;break;case"isotopic":$this.animation=$this.o.iianimation;break;default:$this.animation=$this.o.hresultanimation}if($this.filterFns={number:function(){for(var $parent=$(this).parent();!$parent.hasClass("isotopic");)$parent=$parent.parent();var number=$(this).attr("data-itemnum"),currentPage=$this.currentPage,itemsPerPage=$this.il.itemsPerPage;return parseInt(number,10)<itemsPerPage*currentPage&&parseInt(number,10)>=itemsPerPage*(currentPage-1)}},$this.disableMobileScroll=!1,$this.o.compact.enabled==1&&$this.o.compact.position=="fixed"&&is_touch_device()){$this.n.container.detach().appendTo("body");$this.n.trythis.detach().appendTo("body");$this.n.container.css("position","absolute");$this.n.trythis.css("position","absolute");var originalContainerOffTop=$this.n.container.offset().top;$(window).scroll(function(){$this.resultsOpened&&$this.dragging||(clearTimeout($.data(this,"xscrollTimer")),$.data(this,"xscrollTimer",setTimeout(function(){$this.n.container.animate({top:$(window).scrollTop()+originalContainerOffTop},150);$this.n.trythis.animate({top:$(window).scrollTop()+originalContainerOffTop+$this.n.container.outerHeight()},150)},130)))})}return $this.o.compact.enabled==1&&$this.o.compact.position!="static"&&$this.n.trythis.css({top:$this.n.container.position().top+$this.n.container.outerHeight(!0),left:$this.n.container.offset().left}),$this.n.settingsAppend.length>0?($this.o.blocking==!1&&($this.n.searchsettings.attr("id",$this.n.searchsettings.attr("id").replace("prosettings","probsettings")),$this.o.blocking=!0),$this.n.searchsettings.detach().appendTo($this.n.settingsAppend)):$this.o.blocking==!1&&$this.n.searchsettings.detach().appendTo("body"),$this.o.resultsposition=="hover"&&$this.n.resultsAppend.length<=0?$this.n.resultsDiv.detach().appendTo("body"):$this.n.resultsAppend.length>0?($this.o.resultsposition="block",$this.n.resultsDiv.css({position:"static"}),$this.n.resultsDiv.detach().appendTo($this.n.resultsAppend)):$this.n.resultsDiv.detach().insertAfter($this.n.container),$this.o.resultstype=="horizontal"?$this.createHorizontalScroll():$this.o.resultstype=="vertical"&&$this.createVerticalScroll(),$this.o.resultstype=="polaroid"&&$this.n.results.addClass("photostack"),$this.monitorTouchMove(),detectIE()&&$this.n.container.addClass("asp_msie"),$this.initEvents(),this},monitorTouchMove:function(){var $this=this;$this.dragging=!1;$("body").on("touchmove",function(){$this.dragging=!0});$("body").on("touchstart",function(){$this.dragging=!1})},duplicateCheck:function(){var $this=this,duplicateChk={};$("div[id*=ajaxsearchpro]").each(function(){duplicateChk.hasOwnProperty(this.id)?$(this).remove():duplicateChk[this.id]="true"})},analytics:function(term){var $this=this;$this.o.analytics&&$this.o.analyticsString!=""&&typeof ga=="function"&&ga("send","pageview",{page:"/"+$this.o.analyticsString.replace("{asp_term}",term),title:"Ajax Search"})},createVerticalScroll:function(){var $this=this;$this.scroll=$this.n.results.mCustomScrollbar({contentTouchScroll:!0,scrollButtons:{enable:!0},callbacks:{onScroll:function(){if(!is_touch_device()){var top=parseInt($(".mCSB_container",$this.n.results).position().top),children=$(".mCSB_container .resdrg").children(),overall=0,prev=3e3,diff=4e3,s_diff=1e4,s_overall=1e4,$last=null;children.each(function(){diff=Math.abs(Math.abs(top)-overall);diff<prev&&(s_diff=diff,s_overall=overall,$last=$(this));overall+=$(this).outerHeight(!0);prev=diff});$last.hasClass("group")&&(s_overall=s_overall+$last.outerHeight(!0));$this.scroll.mCustomScrollbar("scrollTo",$last,{scrollInertia:200,callbacks:!1})}}}})},createHorizontalScroll:function(){var $this=this;$this.scroll=$this.n.results.mCustomScrollbar({horizontalScroll:!0,contentTouchScroll:!0,scrollButtons:{enable:!0}})},initEvents:function(){var $this=this;$this.n.text.click(function(){$(this).focus()});$($this.n.text.parent()).submit(function(e,args){e.preventDefault();(is_touch_device()||typeof args!="undefined"&&args=="ajax")&&$this.search()});$this.n.resultsDiv.css({opacity:0});$(document).bind("click touchend",function(){if($this.o.blocking==!1&&$this.hideSettings(),$this.o.compact.enabled){var compact=$this.n.container.attr("asp-compact")||"closed";$this.o.compact.closeOnDocument!=1||compact!="open"||$this.resultsOpened||($this.closeCompact(),$this.post!=null&&$this.post.abort(),$this.n.proloading.css("display","none"))}else if($this.resultsOpened==!1||$this.o.closeOnDocClick!=1)return;$this.dragging||$this.hideResults()});$this.n.proclose.bind("click touchend",function(){$this.resultsOpened!=!1&&($this.n.text.val(""),$this.n.textAutocomplete.val(""),$this.hideResults())});$($this.elem).bind("click touchend",function(e){e.stopImmediatePropagation()});$this.n.resultsDiv.bind("click touchend",function(e){e.stopImmediatePropagation()});$this.n.searchsettings.bind("click touchend",function(e){e.stopImmediatePropagation()});$("p.asp-try").bind("click touchend",function(e){e.stopImmediatePropagation()});$this.n.prosettings.on("click",function(){$this.n.prosettings.data("opened")==0?$this.showSettings():$this.hideSettings()});$this.o.settingsVisible==1&&$this.n.prosettings.click();$(document).bind("touchmove",function(e){$this.disableMobileScroll==!0&&e.preventDefault()});var resizeTimer;$(window).on("resize",function(){clearTimeout(resizeTimer);resizeTimer=setTimeout(function(){$this.resize()},250)});var scrollTimer;$(window).on("scroll",function(){clearTimeout(scrollTimer);scrollTimer=setTimeout(function(){$this.scrolling(!1)},250)});if($this.initNavigationEvent(),$(window).trigger("resize"),$(window).trigger("scroll"),$this.o.aapl.on_click==1)jQuery("div[id*=ajaxsearchprores"+$this.o.id+"_] .results").on("click",".item",function(e){e.preventDefault();e.stopPropagation();typeof event!="undefined"&&typeof window.event.cancelBubble!="undefined"&&(window.event.cancelBubble=!0);AAPL_loadPage(jQuery(this).find("a").attr("href"))});$this.initMagnifierEvent();$this.initAutocompleteEvent();$this.initPagerEvent();$this.initOverlayEvent();$this.initFacetEvents()},initNavigationEvent:function(){var $this=this;$($this.n.resultsDiv).on("mouseenter",".item",function(){$(".item",$this.n.resultsDiv).removeClass("hovered");$(this).addClass("hovered")});$($this.n.resultsDiv).on("mouseleave",".item",function(){$(".item",$this.n.resultsDiv).removeClass("hovered")});$(document).keydown(function(e){if(window.event)var keycode=window.event.keyCode,ktype=window.event.type;else if(e)var keycode=e.which,ktype=e.type;$(".item",$this.n.resultsDiv).length>0&&$this.n.resultsDiv.css("display")!="none"&&(keycode==40&&(e.stopPropagation(),e.preventDefault(),$this.post!=null&&$this.post.abort(),$(".item.hovered",$this.n.resultsDiv).length==0?$(".item",$this.n.resultsDiv).first().addClass("hovered"):$(".item.hovered",$this.n.resultsDiv).removeClass("hovered").next().next(".item").addClass("hovered"),$this.scroll.mCustomScrollbar("scrollTo",".resdrg .item.hovered",{scrollInertia:200,callbacks:!1})),keycode==38&&(e.stopPropagation(),e.preventDefault(),$this.post!=null&&$this.post.abort(),$(".item.hovered",$this.n.resultsDiv).length==0?$(".item",$this.n.resultsDiv).last().addClass("hovered"):$(".item.hovered",$this.n.resultsDiv).removeClass("hovered").prev().prev(".item").addClass("hovered"),$this.scroll.mCustomScrollbar("scrollTo",".resdrg .item.hovered",{scrollInertia:200,callbacks:!1})))})},initMagnifierEvent:function(){var $this=this;$this.o.compact.enabled==1&&$this.initCompactEvents();var t;$this.n.promagnifier.add($this.n.text).bind("click keyup",function(e){if((window.event?($this.keycode=window.event.keyCode,$this.ktype=window.event.type):e&&($this.keycode=e.which,$this.ktype=e.type),$this.keycode!=40&&$this.keycode!=38)&&(!$(this).hasClass("orig")||$this.ktype!="click")&&($this.o.compact.enabled!=1||$this.ktype!="click"&&$this.ktype!="touchend"||$this.o.compact.closeOnMagnifier!=1)){var compact=$this.n.container.attr("asp-compact")||"closed";if($this.o.compact.enabled!=1||$this.ktype!="click"&&$this.ktype!="touchend"||compact!="closed"){if($this.ktype=="keyup"&&$this.o.aapl.on_typing==1&&typeof AAPL_loadPage!="undefined"){clearTimeout(t);$this.aaplResults();return}if($this.ktype=="click"&&$(this).hasClass("promagnifier")&&$this.o.aapl.on_magnifier==1&&typeof AAPL_loadPage){clearTimeout(t);$this.aaplResults();return}if($this.ktype=="keyup"&&$this.keycode==13&&$this.o.aapl.on_enter==1&&typeof AAPL_loadPage!="undefined"){clearTimeout(t);$this.aaplResults();return}if($this.n.text.val()!=""&&($this.o.redirectonclick==1&&$this.ktype=="click"||$this.o.redirect_on_enter==1&&$this.ktype=="keyup"&&$this.keycode==13)){var plus="",url=$this.o.redirect_url.replace("{phrase}",$this.n.text.val());if(typeof AAPL_loadPage!="undefined"){var plus="";$this.o.overridewpdefault&&(plus="asid="+$this.o.id+"&"+$("form",$this.n.searchsettings).serialize(),plus="&asp_data="+Base64.encode(plus));location.href=$this.o.homeurl+url+plus}else $this.o.overridewpdefault?asp_submit_to_url($this.o.homeurl+url+"&asp_active=1","post",{p_asid:$this.o.id,p_asp_data:$("form",$this.n.searchsettings).serialize()}):location.href=$this.o.homeurl+url;return}if($this.o.triggeronclick!=0||$this.ktype!="click"){if($this.ktype=="keyup"){if($this.o.triggerontype==0&&$this.keycode!="13")return;if($this.o.triggeronreturn==0&&$this.keycode=="13")return}if($this.n.text.val().length<$this.o.charcount){$this.n.proloading.css("display","none");$this.o.blocking==!1&&$this.hideSettings();$this.hideResults();$this.post!=null&&$this.post.abort();clearTimeout(t);return}$this.post!=null&&$this.post.abort();clearTimeout(t);$this.n.proloading.css("display","none");t=setTimeout(function(){$this.n.text.val()==$this.lastSuccesfulPhrase&&$this.resultsOpened?$this.n.proclose.css("display","block"):$this.search()},350)}}}})},initCompactEvents:function(){var $this=this,scrollTopx=0;$this.n.text.focus(function(){window.scrollTo(0,0);document.body.scrollTop=scrollTopx;$this.n.container.css("top",$this.n.container.scrollTop)});$this.n.probox.attr("asp-compact-w",$this.n.probox.width());$this.n.container.attr("asp-compact-w",$this.n.container.width());$this.n.promagnifier.click(function(){var compact=$this.n.container.attr("asp-compact")||"closed";if(scrollTopx=$(window).scrollTop(),$this.hideSettings(),$this.hideResults(),compact=="closed")$this.openCompact(),$this.n.text.focus();else{if($this.o.compact.closeOnMagnifier!=1)return;$this.closeCompact();$this.post!=null&&$this.post.abort();$this.n.proloading.css("display","none")}})},openCompact:function(){var $this=this;$this.n.probox.css({width:"auto"});setTimeout(function(){$(">:not(.promagnifier)",$this.n.probox).removeClass("hiddend")},80);$this.n.container.animate({width:$this.o.compact.width},{duration:150,complete:function(){$this.resize();$this.n.container.css("position")!="static"&&$this.n.trythis.css({display:"block"});$this.n.text.focus()}});$this.n.container.attr("asp-compact","open")},closeCompact:function(){var $this=this;$(">:not(.promagnifier)",$this.n.probox).addClass("hiddend");$this.n.container.css({width:"auto"});$this.n.probox.animate({width:$this.n.probox.attr("asp-compact-w")},150);$this.n.container.css("position")!="static"&&$this.n.trythis.css({left:$this.n.container.position().left,display:"none"});$this.n.container.attr("asp-compact","closed")},initAutocompleteEvent:function(){var $this=this,tt;$this.o.autocomplete.enabled!=1||is_touch_device()||$this.n.text.keyup(function(e){window.event?($this.keycode=window.event.keyCode,$this.ktype=window.event.type):e&&($this.keycode=e.which,$this.ktype=e.type);var thekey=39;$("body").hasClass("rtl")&&(thekey=37);$this.keycode==thekey&&$this.n.textAutocomplete.val()!=""?$this.n.text.val($this.n.textAutocomplete.val()):(clearTimeout(tt),$this.postAuto!=null&&$this.postAuto.abort(),$this.o.autocomplete.googleOnly==1?$this.autocompleteGoogleOnly():tt=setTimeout(function(){$this.autocomplete();tt=null},450))})},initPagerEvent:function(){var $this=this;$this.n.resultsDiv.on("click","nav>a",function(e){e.preventDefault();$this.currentPage=$(this).hasClass("asp_prev")?$this.currentPage==1?Math.ceil($this.n.items.length/$this.il.itemsPerPage):--$this.currentPage:$this.currentPage==Math.ceil($this.n.items.length/$this.il.itemsPerPage)?1:++$this.currentPage;$("nav>ul li",$this.n.resultsDiv).removeClass("asp_active");$($("nav>ul li",$this.n.resultsDiv).get($this.currentPage-1)).addClass("asp_active");$this.isotopic.arrange({filter:$this.filterFns.number});$this.removeAnimation()});$this.n.resultsDiv.on("click","nav>ul li",function(e){e.preventDefault();$this.currentPage=parseInt($("span",this).html(),10);$("nav>ul li",$this.n.resultsDiv).removeClass("asp_active");$($("nav>ul li",$this.n.resultsDiv).get($this.currentPage-1)).addClass("asp_active");$this.isotopic.arrange({filter:$this.filterFns.number});$this.removeAnimation()})},initOverlayEvent:function(){var $this=this;if($this.o.resultstype=="isotopic"){if($this.o.iishowOverlay){$this.n.resultsDiv.on("mouseenter","div.item",function(){$(".asp_item_overlay",this).fadeIn();$(".asp_item_img",this).length>0&&($this.o.iiblurOverlay&&$(".asp_item_overlay_img",this).fadeIn(),$this.o.iihideContent&&$(".content",this).slideUp(100))});$this.n.resultsDiv.on("mouseleave","div.item",function(){$(".asp_item_overlay",this).fadeOut();$(".asp_item_img",this).length>0&&($this.o.iiblurOverlay&&$(".asp_item_overlay_img",this).fadeOut(),$this.o.iihideContent&&$(".asp_item_img",this).length>0&&$(".content",this).slideDown(100))});$this.n.resultsDiv.on("mouseenter","div.asp_item_inner",function(){$(this).addClass("animated pulse")});$this.n.resultsDiv.on("mouseleave","div.asp_item_inner",function(){$(this).removeClass("animated pulse")});$this.n.resultsDiv.on("click",".asp_item_overlay",function(){var link=$(".asp_content h3 a",$(this).parent()).get(0);typeof link!="undefined"&&link.click()})}$(window).on("resize",function(){$this.resizeTimeout!=null&&clearTimeout($this.resizeTimeout);$this.resizeTimeout=setTimeout(function(){$this.calculateIsotopeRows();$this.showPagination();$this.removeAnimation();$this.isotopic!=null&&$this.isotopic.arrange({filter:$this.filterFns.number})},200)})}},initFacetEvents:function(){var $this=this;if($this.o.triggerOnFacetChange!=0)$('input, div[id*="-handles"], select',$this.n.searchsettings).on("change slidechange",function(){$this.n.text.val().length<$this.o.charcount||($this.post!=null&&$this.post.abort(),$this.search())})},destroy:function(){return this.each(function(){var $this=$.extend({},this,methods);$(window).unbind($this)})},searchfor:function(phrase){$(".proinput input",this).val(phrase).trigger("keyup")},autocomplete:function(){var $this=this,val=$this.n.text.val();if($this.n.text.val()==""){$this.n.textAutocomplete.val("");return}var autocompleteVal=$this.n.textAutocomplete.val();if(autocompleteVal==""||autocompleteVal.indexOf(val)!=0){$this.n.textAutocomplete.val("");var data={action:"ajaxsearchpro_autocomplete",asid:$this.o.id,sauto:$this.n.text.val()};$this.postAuto=$.post(ajaxsearchpro.ajaxurl,data,function(response){if(response.length>0){var part1=val,part2=response.substr(val.length);response=part1+part2}$this.n.textAutocomplete.val(response)})}},autocompleteGoogleOnly:function(){var $this=this,val=$this.n.text.val();if($this.n.text.val()==""){$this.n.textAutocomplete.val("");return}var autocompleteVal=$this.n.textAutocomplete.val();(autocompleteVal==""||autocompleteVal.indexOf(val)!=0)&&($this.n.textAutocomplete.val(""),$.ajax({url:"https://clients1.google.com/complete/search",dataType:"jsonp",data:{q:val,hl:$this.o.autocomplete.lang,nolabels:"t",client:"hp",ds:""},success:function(data){data[1].length>0&&(response=data[1][0][0].replace(/(<([^>]+)>)/ig,""),response=response.substr(val.length),$this.n.textAutocomplete.val(val+response))}}))},search:function(){var $this=this;if(!$this.searching||!0){$this.searching=!0;$this.n.proloading.css({display:"block"});$this.n.proclose.css({display:"none"});$this.o.blocking==!1&&$this.hideSettings();var asp_preview_options=0;$("#asp_preview_options").length>0&&(asp_preview_options=$("#asp_preview_options").html());var data={action:"ajaxsearchpro_search",aspp:$this.n.text.val(),asid:$this.o.id,asp_inst_id:$this.o.rid,options:$("form",$this.n.searchsettings).serialize(),asp_preview_options:asp_preview_options};$this.analytics($this.n.text.val());$this.post=$.post(ajaxsearchpro.ajaxurl,data,function(response){if(response=response.replace(/^\s*[\r\n]/gm,""),response=response.match(/!!ASPSTART!!(.*[\s\S]*)!!ASPEND!!/)[1],$this.n.resdrg.html(""),$this.n.resdrg.html(response),$(".asp_keyword",$this.n.resdrg).bind("click",function(){$this.n.text.val($(this).html());$("input.orig",$this.n.container).val($(this).html()).keydown();$("form",$this.n.container).trigger("submit","ajax")}),$this.n.items=$(".item",$this.n.resultsDiv),$this.showResults(),$this.scrollToResults(),$this.lastSuccesfulPhrase=$this.n.text.val(),$this.n.showmore!=null){var url=$this.o.more_redirect_url.replace("{phrase}",$this.n.text.val());if(typeof AAPL_loadPage!="undefined"){var plus="";$this.o.overridewpdefault&&(plus="asid="+$this.o.id+"&"+$("form",$this.n.searchsettings).serialize(),plus="&asp_data="+Base64.encode(plus));$("a",$this.n.showmore).attr("href",$this.o.homeurl+url+plus)}else $("a",$this.n.showmore).attr("href","#"),$("a",$this.n.showmore).click(function(e){e.preventDefault();asp_submit_to_url($this.o.homeurl+url+"&asp_active=1","post",{p_asid:$this.o.id,p_asp_data:$("form",$this.n.searchsettings).serialize()})})}},"text")}},aaplResults:function(){var $this=this,plus="";$this.post!=null&&$this.post.abort();$this.n.proloading.css("display","none");$this.o.blocking==!1&&$this.hideSettings();$this.hideResults();var url=$this.o.redirect_url.replace("{phrase}",$this.n.text.val());$this.o.overridewpdefault&&(plus="asid="+$this.o.id+"&"+$("form",$this.n.searchsettings).serialize());plus!=""?AAPL_loadPage($this.o.homeurl+url+"&asp_data="+Base64.encode(plus)):AAPL_loadPage($this.o.homeurl+url);return},showResults:function(){var $this=this;switch($this.o.resultstype){case"horizontal":$this.showHorizontalResults();break;case"vertical":$this.showVerticalResults();break;case"polaroid":$this.showPolaroidResults();$this.disableMobileScroll=!0;break;case"isotopic":$this.showIsotopicResults();break;default:$this.showHorizontalResults()}$this.n.proloading.css({display:"none"});$this.n.proclose.css({display:"block"});$this.n.showmore!=null&&$this.n.showmore.css({display:"block"});is_touch_device()&&document.activeElement.blur();$this.resultsOpened=!0},hideResults:function(){var $this=this;switch($this.o.resultstype){case"horizontal":$this.hideHorizontalResults();break;default:$this.hideVerticalResults()}$this.n.proclose.css({display:"none"});$this.n.showmore!=null&&$this.n.showmore.css({display:"none"});$this.resultsOpened=!1},scrollToResults:function(){if($this=this,this.o.scrollToResults==1&&!this.$elem.parent().hasClass("asp_preview_data")&&this.o.compact.enabled!=1){if($this.o.resultsposition=="hover")var stop=$this.n.probox.offset().top-20;else var stop=$this.n.resultsDiv.offset().top-20;$("#wpadminbar").length>0&&(stop-=$("#wpadminbar").height());stop=stop<0?0:stop;$("body, html").animate({scrollTop:stop},{duration:500})}},showVerticalResults:function(){var $this=this;$this.n.resultsDiv.css({display:"block",height:"auto"});$this.scrolling(!0);var top=$this.n.resultsDiv.position().top;if($this.n.resultsDiv.css({top:top-100,opacity:0,visibility:"visible"}).animate({top:top,opacity:1},{complete:function(){$(".mCS_no_scrollbar",$this.n.resultsDiv).css({top:0});$(".mCSB_container",$this.n.resultsDiv).css({top:0})}}),$this.n.items.length>0){var count=$this.n.items.length<$this.o.itemscount?$this.n.items.length:$this.o.itemscount,groups=$(".asp_group_header",$this.n.resultsDiv),spacers=$(".asp_spacer",$this.n.resultsDiv);if($this.n.items.length<=$this.o.itemscount)$this.n.results.css({height:"auto"});else{$this.n.results.css({height:30});$this.scroll.mCustomScrollbar("update");$this.resize();var i=0,h=0;$this.n.items.each(function(){h+=$(this).outerHeight(!0);i++});i=i<1?1:i;h=h/i*count;groups.length>0&&groups.each(function(occurence){var group_position=$(this).index()-occurence-Math.floor($(this).index()/3);group_position<count&&(h+=$(this).outerHeight(!0))});$this.n.results.css({height:h})}if($this.scroll.mCustomScrollbar("update"),$this.resize(),$this.scroll.mCustomScrollbar("scrollTo","first"),$this.o.highlight==1){var wholew=$this.o.highlightwholewords==1?!0:!1;$("div.item",$this.n.resultsDiv).highlight($this.n.text.val().split(" "),{element:"span",className:"highlighted",wordsOnly:wholew})}}if($this.resize(),$this.n.items.length==0){var h=$(".nores",$this.n.results).outerHeight(!0)>$this.o.resultitemheight?$this.o.resultitemheight:$(".nores",$this.n.results).outerHeight(!0);$this.n.results.css({height:11110});$this.scroll.mCustomScrollbar("update");$this.n.results.css({height:"auto"})}$this.addAnimation();$this.scrolling(!0);$this.searching=!1},showHorizontalResults:function(){var $this=this;if($this.n.resultsDiv.css("display","block"),$(".nores",$this.n.results).size()>0?$(".mCSB_container",$this.n.resultsDiv).css({width:"auto",left:0}):$(".mCSB_container",$this.n.resultsDiv).css({width:$this.n.resdrg.children().size()*$($this.n.resdrg.children()[0]).outerWidth(!0),left:0}),$this.o.resultsposition=="hover"&&$this.n.resultsDiv.css("width",$this.n.container.outerWidth(!0)),$this.scroll.data({scrollButtons_scrollAmount:parseInt($this.n.items.outerWidth(!0)),mouseWheelPixels:parseInt($this.n.items.outerWidth(!0))}).mCustomScrollbar("update"),$this.n.resultsDiv.css("visibility")=="visible")var cssArgs={height:"auto"},animArgs={opacity:1};else var autoHeight=$this.n.resultsDiv.css("height","auto").height(),cssArgs={opacity:0,visibility:"visible",height:0},animArgs={opacity:1,height:autoHeight};$this.addAnimation();$this.n.resultsDiv.css(cssArgs).animate(animArgs,{complete:function(){$this.scrolling(!0);$this.searching=!1}})},showIsotopicResults:function(){var $this=this,itemsPerPage=$this.o.iitemsPerPage;$this.preProcessIsotopicResults();$this.n.resultsDiv.css({display:"block",height:"auto"});$this.scrolling(!0);var top=$this.n.resultsDiv.position().top;if($this.n.resultsDiv.css({top:top-100,opacity:0,visibility:"visible"}).animate({top:top,opacity:1},{}),$this.n.items.length>0&&($this.n.results.css({height:"auto"}),$this.o.highlight==1)){var wholew=$this.o.highlightwholewords==1?!0:!1;$("div.item",$this.n.resultsDiv).highlight($this.n.text.val().split(" "),{element:"span",className:"highlighted",wordsOnly:wholew})}if($this.calculateIsotopeRows(),$this.showPagination(),$this.n.items.length==0){var h=$(".nores",$this.n.results).outerHeight(!0)>$this.o.resultitemheight?$this.o.resultitemheight:$(".nores",$this.n.results).outerHeight(!0);$this.n.results.css({height:11110});$this.n.results.css({height:"auto"});$this.n.resdrg.css({height:"auto"})}else $this.isotopic=new rpp_isotope("#ajaxsearchprores"+$this.o.rid+" .resdrg",{itemSelector:"div.item",layoutMode:"masonry",filter:$this.filterFns.number});$this.addAnimation();$this.searching=!1},preProcessIsotopicResults:function(){var $this=this,j=0,overlay="";$this.o.iishowOverlay&&(overlay=$this.n.aspItemOverlay[0].outerHTML);$.grep($this.n.items,function(el){var image="",overlayImage="",hasImage=$(".asp_item_img",el).length>0?!0:!1,$img=$(".asp_item_img",el);if(hasImage){var src=$img.attr("imgsrc");if($this.o.iiblurOverlay&&!is_touch_device())var filter="aspblur";else var filter="no_aspblur";overlayImage="<div filter='url(#"+filter+")' style='background-image:url("+src+");filter: url(#"+filter+");-webkit-filter: url(#"+filter+");-moz-filter: url(#"+filter+");-o-filter: url(#"+filter+");-ms-filter: url(#"+filter+");' class='asp_item_overlay_img'><\/div>"}else switch($this.o.iifNoImage){case"removeres":return!1;case"defaultimage":if($this.o.defaultImage!=""){if(image="<div class='asp_item_img' style='background-image:url("+$this.o.defaultImage+");'>",$this.o.iiblurOverlay&&!is_touch_device())var filter="aspblur";else var filter="no_aspblur";overlayImage="<div filter='url(#"+filter+")' style='background-image:url("+$this.o.defaultImage+");filter: url(#"+filter+");-webkit-filter: url(#"+filter+");-moz-filter: url(#"+filter+");-o-filter: url(#"+filter+");-ms-filter: url(#"+filter+");' class='asp_item_overlay_img'><\/div>"}}$(overlayImage+overlay+image).prependTo(el);$(el).attr("data-itemnum",j);j++})},showPagination:function(){var $this=this;if($("nav.asp_navigation ul li",$this.n.resultsDiv).remove(),$("nav.asp_navigation",$this.n.resultsDiv).css("display","none"),$this.n.items.length>0){var pages=Math.ceil($this.n.items.length/$this.il.itemsPerPage);if(pages>1){for(var i=1;i<=pages;i++)i==1?$("nav.asp_navigation ul",$this.n.resultsDiv).append("<li class='asp_active'><span>"+i+"<\/span><\/li>"):$("nav.asp_navigation ul",$this.n.resultsDiv).append("<li><span>"+i+"<\/span><\/li>");$("nav.asp_navigation",$this.n.resultsDiv).css("display","block")}}},calculateIsotopeRows:function(){var $this=this,containerWidth=parseFloat($this.n.results.innerWidth()),realColumnCount=containerWidth/$this.o.iitemsWidth,floorColumnCount=Math.floor(realColumnCount);floorColumnCount<=0&&(floorColumnCount=1);Math.abs(containerWidth/floorColumnCount-$this.o.iitemsWidth)>Math.abs(containerWidth/(floorColumnCount+1)-$this.o.iitemsWidth)&&floorColumnCount++;var newItemW=containerWidth/floorColumnCount,newItemH=newItemW/$this.o.iitemsWidth*$this.o.iitemsHeight;$this.il.columns=floorColumnCount;$this.il.itemsPerPage=floorColumnCount*$this.o.iiRows;$this.n.resultsDiv.data({colums:$this.il.columns,itemsperpage:$this.il.itemsPerPage});$this.currentPage=1;$this.n.items.css({width:Math.floor(newItemW),height:Math.floor(newItemH)})},showPolaroidResults:function(){var $this=this;$(".photostack>nav",$this.n.resultsDiv).remove();var figures=$("figure",$this.n.resultsDiv);$this.n.resultsDiv.css({display:"block",height:"auto"});$this.scrolling(!0);var top=$this.n.resultsDiv.position().top;if($this.n.resultsDiv.css({top:top-100,opacity:0,visibility:"visible"}).animate({top:top,opacity:1},{complete:function(){}}),figures.length>0){if($this.n.results.css({height:$this.o.prescontainerheight}),$this.o.highlight==1)var wholew=$this.o.highlightwholewords==1?!0:!1;new Photostack($this.n.results.get(0),{callback:function(){}})}if(figures.length==0){var h=$(".nores",$this.n.results).outerHeight(!0)>$this.o.resultitemheight?$this.o.resultitemheight:$(".nores",$this.n.results).outerHeight(!0);$this.n.results.css({height:11110});$this.n.results.css({height:"auto"})}$this.addAnimation();$this.scrolling(!0);$this.searching=!1;$this.initPolaroidEvents(figures)},initPolaroidEvents:function(figures){var $this=this,i=1;figures.each(function(){i>1&&$(this).removeClass("photostack-current");$(this).attr("idx",i);i++});figures.click(function(e){if(!$(this).hasClass("photostack-current")){e.preventDefault();var idx=$(this).attr("idx");$(".photostack>nav span:nth-child("+idx+")",$this.n.resultsDiv).click()}});figures.bind("mousewheel",function(event,delta){event.preventDefault();delta>=1?$(".photostack>nav span.current",$this.n.resultsDiv).next().length>0?$(".photostack>nav span.current",$this.n.resultsDiv).next().click():$(".photostack>nav span:nth-child(1)",$this.n.resultsDiv).click():$(".photostack>nav span.current",$this.n.resultsDiv).prev().length>0?$(".photostack>nav span.current",$this.n.resultsDiv).prev().click():$(".photostack>nav span:nth-last-child(1)",$this.n.resultsDiv).click()});figures.bind("swipeone",function(e,originalEvent){e.preventDefault();e.stopPropagation();originalEvent.originalEvent.preventDefault();originalEvent.originalEvent.stopPropagation();originalEvent.delta!=null&&originalEvent.delta[0]!=null&&originalEvent.delta[0].lastX!=null&&(originalEvent.delta[0].lastX>=0?$(".photostack>nav span.current",$this.n.resultsDiv).next().length>0?$(".photostack>nav span.current",$this.n.resultsDiv).next().click():$(".photostack>nav span:nth-child(1)",$this.n.resultsDiv).click():$(".photostack>nav span.current",$this.n.resultsDiv).prev().length>0?$(".photostack>nav span.current",$this.n.resultsDiv).prev().click():$(".photostack>nav span:nth-last-child(1)",$this.n.resultsDiv).click())});$this.disableMobileScroll=!0},hideVerticalResults:function(){var $this=this;$this.disableMobileScroll=!1;$this.n.resultsDiv.animate({opacity:0,height:0},{duration:120,complete:function(){$(this).css({visibility:"hidden",display:"none"})}})},hideHorizontalResults:function(newSearch){var $this=this;$this.disableMobileScroll=!1;newSearch=typeof newSearch!="undefined"?newSearch:!1;newSearch?$this.n.resultsDiv.animate({opacity:.3},{complete:function(){return}}):$this.n.resultsDiv.animate({opacity:0,height:0},{duration:120,complete:function(){$(this).css({visibility:"hidden",display:"none"})}})},addAnimation:function(){var $this=this,i=0,j=1;$this.n.items.each(function(){if($this.o.resultstype!="isotopic"||!(j>$this.il.itemsPerPage)){var x=this;setTimeout(function(){$(x).addClass($this.animation)},i);i=i+60;j++}})},removeAnimation:function(){var $this=this;$this.n.items.each(function(){var x=this;$(x).removeClass($this.animation)})},showSettings:function(){var $this=this;$this.o.blocking?($this.n.searchsettings.css({display:"block",visibility:"visible"}),$this.n.searchsettings.animate({opacity:1})):($this.scrolling(!0),$this.n.searchsettings.css({opacity:0,visibility:"visible",top:"-=50px"}),$this.n.searchsettings.animate({opacity:1,top:"+=50px"}),$this.settScroll==null&&($this.settScroll=$(".asp_sett_scroll",$this.n.searchsettings).mCustomScrollbar({contentTouchScroll:!0})));$this.n.prosettings.data("opened",1)},hideSettings:function(){var $this=this;$this.o.blocking?($this.n.searchsettings.css({display:"none",visibility:"hidden"}),$this.n.searchsettings.animate({opacity:0})):$this.n.searchsettings.animate({opacity:0},{complete:function(){$(this).css({visibility:"hidden"})}});$this.n.prosettings.data("opened",0)},cleanUp:function(){var $this=this;$(".searchsettings",$this.n.container).length>0&&($("body>#ajaxsearchprosettings"+$this.o.rid).remove(),$("body>#ajaxsearchprores"+$this.o.rid).remove())},resize:function(){var $this=this;detectIE()&&($this.n.proinput.css({width:$this.n.probox.width()-8-($this.n.proinput.outerWidth(!1)-$this.n.proinput.width())-$this.n.proloading.outerWidth(!0)-$this.n.prosettings.outerWidth(!0)-$this.n.promagnifier.outerWidth(!0)-10}),$this.n.text.css({width:$this.n.proinput.width()-2+$this.n.proloading.outerWidth(!0),zIndex:2}),$this.n.textAutocomplete.css({width:$this.n.proinput.width()-2+$this.n.proloading.outerWidth(!0),opacity:.25,zIndex:1}));$this.n.prosettings.data("opened")!=0&&($this.o.settingsimagepos=="left"?$this.n.searchsettings.css({display:"block",top:$this.n.prosettings.offset().top+$this.n.prosettings.height()-2,left:$this.n.prosettings.offset().left}):$this.n.searchsettings.css({display:"block",top:$this.n.prosettings.offset().top+$this.n.prosettings.height()-2,left:$this.n.prosettings.offset().left+$this.n.prosettings.width()-$this.n.searchsettings.width()}));$this.n.resultsDiv.css("visibility")!="hidden"&&($this.o.resultsposition!="block"&&$this.n.resultsDiv.css({width:$this.n.container.width()-($this.n.resultsDiv.outerWidth(!0)-$this.n.resultsDiv.width()),top:$this.n.container.offset().top+$this.n.container.outerHeight(!0)+10,left:$this.n.container.offset().left}),$this.o.resultstype!="isotopic"&&$(".content",$this.n.items).each(function(){var imageWidth=$(this).prev().css("display")=="none"?0:$(this).prev().outerWidth(!0);$(this).css({width:$(this.parentNode).width()-$(this).prev().outerWidth(!0)-$(this).outerWidth(!1)+$(this).width()-3})}));$this.n.container.css("position")=="fixed"&&$this.n.trythis.css({top:$this.n.container.position().top+$this.n.container.outerHeight(!0)});$this.n.trythis.css({left:$this.n.container.position().left})},scrolling:function(ignoreVisibility){var $this=this;if((ignoreVisibility==!0||$this.n.searchsettings.css("visibility")=="visible")&&$this.o.blocking==!1&&($this.o.settingsimagepos=="left"?$this.n.searchsettings.css({display:"block",top:$this.n.prosettings.offset().top+$this.n.prosettings.height()-2,left:$this.n.prosettings.offset().left}):$this.n.searchsettings.css({display:"block",top:$this.n.prosettings.offset().top+$this.n.prosettings.height()-2,left:$this.n.prosettings.offset().left+$this.n.prosettings.width()-$this.n.searchsettings.width()})),ignoreVisibility==!0||$this.n.resultsDiv.css("visibility")=="visible"){var cwidth=$this.n.container.outerWidth(!0);if(cwidth=$this.o.resultsposition!="hover"&&$this.n.resultsAppend.length>0?"auto":cwidth-2*parseInt($this.n.resultsDiv.css("paddingLeft")),$this.n.resultsDiv.css({width:cwidth,top:$this.n.container.offset().top+$this.n.container.outerHeight(!0)+10,left:$this.n.container.offset().left}),$this.o.resultstype!="vertical")return;$(".content",$this.n.items).each(function(){$(this).css({width:$(this.parentNode).width()-$(this).prev().outerWidth(!0)-$(this).outerWidth(!1)+$(this).width()-3})})}}};function asp_submit_to_url(action,method,input){"use strict";var form;form=$("<form />",{action:action,method:method,style:"display: none;"});typeof input!="undefined"&&input!==null&&$.each(input,function(name,value){$("<input />",{type:"hidden",name:name,value:value}).appendTo(form)});form.appendTo("body").submit()}function is_touch_device(){return!("ontouchstart"in window)?0:1}function detectIE(){var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),trident=ua.indexOf("Trident/");return msie>0||trident>0?!0:!1}typeof Object.create!="function"&&(Object.create=function(o){function F(){}return F.prototype=o,new F});$.plugin=function(name,object){$.fn[name]=function(options){return this.each(function(){$.data(this,name)||$.data(this,name,Object.create(object).init(options,this))})}};$.plugin("ajaxsearchpro",methods);jQuery.fn.animateAuto=function(prop,speed,callback){var elem,height,width;return this.each(function(i,el){el=jQuery(el);elem=el.clone().css({height:"auto",width:"auto"}).appendTo("body");height=elem.css("height");width=elem.css("width");elem.remove();prop==="height"?el.animate({height:height},speed,callback):prop==="width"?el.animate({width:width},speed,callback):prop==="both"&&el.animate({width:width,height:height},speed,callback)})};$.fn.mobileFix=function(options){var $parent=$(this),$fixedElements=$(options.fixedElements);$(document).on("focus",options.inputElements,function(){$parent.addClass(options.addClass)}).on("blur",options.inputElements,function(){$parent.removeClass(options.addClass);setTimeout(function(){$(document).scrollTop($(document).scrollTop())},1)});return this};var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(input){var output="",chr1,chr2,chr3,enc1,enc2,enc3,enc4,i=0;for(input=Base64._utf8_encode(input);i<input.length;)chr1=input.charCodeAt(i++),chr2=input.charCodeAt(i++),chr3=input.charCodeAt(i++),enc1=chr1>>2,enc2=(chr1&3)<<4|chr2>>4,enc3=(chr2&15)<<2|chr3>>6,enc4=chr3&63,isNaN(chr2)?enc3=enc4=64:isNaN(chr3)&&(enc4=64),output=output+this._keyStr.charAt(enc1)+this._keyStr.charAt(enc2)+this._keyStr.charAt(enc3)+this._keyStr.charAt(enc4);return output},decode:function(input){var output="",chr1,chr2,chr3,enc1,enc2,enc3,enc4,i=0;for(input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");i<input.length;)enc1=this._keyStr.indexOf(input.charAt(i++)),enc2=this._keyStr.indexOf(input.charAt(i++)),enc3=this._keyStr.indexOf(input.charAt(i++)),enc4=this._keyStr.indexOf(input.charAt(i++)),chr1=enc1<<2|enc2>>4,chr2=(enc2&15)<<4|enc3>>2,chr3=(enc3&3)<<6|enc4,output=output+String.fromCharCode(chr1),enc3!=64&&(output=output+String.fromCharCode(chr2)),enc4!=64&&(output=output+String.fromCharCode(chr3));return Base64._utf8_decode(output)},_utf8_encode:function(string){string=string.replace(/\r\n/g,"\n");for(var utftext="",n=0;n<string.length;n++){var c=string.charCodeAt(n);c<128?utftext+=String.fromCharCode(c):c>127&&c<2048?(utftext+=String.fromCharCode(c>>6|192),utftext+=String.fromCharCode(c&63|128)):(utftext+=String.fromCharCode(c>>12|224),utftext+=String.fromCharCode(c>>6&63|128),utftext+=String.fromCharCode(c&63|128))}return utftext},_utf8_decode:function(utftext){for(var string="",i=0,c=c1=c2=0;i<utftext.length;)c=utftext.charCodeAt(i),c<128?(string+=String.fromCharCode(c),i++):c>191&&c<224?(c2=utftext.charCodeAt(i+1),string+=String.fromCharCode((c&31)<<6|c2&63),i+=2):(c2=utftext.charCodeAt(i+1),c3=utftext.charCodeAt(i+2),string+=String.fromCharCode((c&15)<<12|(c2&63)<<6|c3&63),i+=3);return string}}})(jQuery);